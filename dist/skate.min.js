!function(){"use strict";function a(b,d){if(v(E,b))throw new Error('A component with the ID of "'+b+'" already exists.');D||(D=new C(function(b){b.forEach(function(b){if(b.addedNodes)for(var c=0;c<b.addedNodes.length;c++)1===b.addedNodes[c].nodeType&&a.init(b.addedNodes[c]);g(b.removedNodes)})}),D.observe(document,{childList:!0,subtree:!0})),d||(d={}),"function"==typeof d&&(d={insert:d}),u(d,a.defaults),E[b]=d,d.ready&&B.sheet.insertRule(z(b,d.type,"."+d.classname)+"{display:none}",B.sheet.cssRules.length);for(var e=document.querySelectorAll(z(b,d.type)),f=0;f<e.length;f++)y(e[f])||c(b,d,e[f]);return d.type.indexOf(a.types.TAG)?x(b,d):void 0}function b(a){if(a.hasAttribute(A))return[];var c=[a];if(a.children)for(var d=0;d<a.children.length;d++)c=c.concat(b(a.children[d]));return c}function c(a,b,c){d(a,b,c,function(){e(a,b,c)})}function d(a,b,c,d){var e=/^[^(]+\([^,)]+,/;return d=d||function(){},m(c,a+".ready-called")?d():(n(c,a+".ready-called",!0),u(c,b.prototype),h(a,b,c),j(a,c,b.events),l(c,a),void(b.ready&&e.test(b.ready)?b.ready(c,d):b.ready?(b.ready(c),d()):d()))}function e(a,b,c){m(c,a+".insert-called")||c.parentNode&&(n(c,a+".insert-called",!0),p(c,b.classname),b.insert&&b.insert(c),i(a,b,c))}function f(a,b,c){m(c,a+".remove-called")||(n(c,a+".remove-called",!0),b.remove&&b.remove(c))}function g(a){if(a)for(var b=0;b<a.length;b++){var c=a[b];1===c.nodeType&&(g(c.children),r(c).forEach(function(a){v(E,a)&&f(a,E[a],c)}))}}function h(a,b,c){if(b.template){var d=c.innerHTML;"function"==typeof b.template?b.template(c):"string"==typeof b.template&&(c.innerHTML=b.template);var e=c.querySelectorAll("content");if(e&&e.length){var f=document.createElement("div");f.innerHTML=d;for(var g=0;g<e.length;g++){var h=e[g],i=h.getAttribute("select");if(i)for(var j=0;j<f.children.length;j++){var k=f.children[j];t(k,i)&&h.parentNode.insertBefore(k,h)}else for(var l=0;l<f.childNodes.length;l++)h.parentNode.insertBefore(f.childNodes[l],h);h.parentNode.removeChild(h)}}}}function i(a,b,c){function d(a,d,e,f){var g;b.attributes&&b.attributes[d]&&"function"==typeof b.attributes[d][a]?g=b.attributes[d][a]:b.attributes&&"function"==typeof b.attributes[d]?g=b.attributes[d]:"function"==typeof b.attributes&&(g=b.attributes),g&&g(c,{type:a,name:d,newValue:e,oldValue:f})}if(b.attributes&&!m(c,a+".attributes-called")){n(c,a+".attributes-called",!0);var e=new C(function(a){a.forEach(function(a){var b,e=a.attributeName,f=c.attributes[e];f&&null===a.oldValue?b="insert":f&&null!==a.oldValue?b="update":f||(b="remove"),d(b,e,f?f.nodeValue:void 0,a.oldValue)})});e.observe(c,{attributes:!0,attributeOldValue:!0});for(var f=0;f<c.attributes.length;f++){var g=c.attributes[f];d("insert",g.nodeName,g.nodeValue)}}}function j(a,b,c){function d(a,c){return function(d){(!c||t(d.target,c))&&a(b,d)}}"object"==typeof c&&w(c,function(a,c){var e=k(c);b.addEventListener(e.name,d(a,e.delegate))})}function k(a){var b=a.split(" ",2);return{name:b[0],delegate:b[1]}}function l(a,b){var c=m(a,b+".when-callbacks");c&&(c.forEach(function(b){b(a)}),o(a,b+".when-callbacks"))}function m(a,b){return a.__SKATE_DATA?a.__SKATE_DATA[b]:void 0}function n(a,b,c){a.__SKATE_DATA||(a.__SKATE_DATA={}),a.__SKATE_DATA[b]=c}function o(a,b){a.__SKATE_DATA&&a.__SKATE_DATA[b]&&delete a.__SKATE_DATA[b]}function p(a,b){a.classList?a.classList.add(b):a.className+=a.className?" "+b:b}function q(a){return a.classList||a.getAttribute("class")&&a.getAttribute("class").split(/\s+/)||[]}function r(b){var c={},d=b.tagName.toLowerCase();s(d,a.types.TAG)&&(c[d]=d);for(var e=0;e<b.attributes.length;e++){var f=b.attributes[e].nodeName;s(f,a.types.ATTR)&&(c[f]=f)}for(var g=q(b),h=0;h<g.length;h++){var i=g[h];s(i,a.types.CLASS)&&(c[i]=i)}return Object.keys(c)}function s(a,b){return v(E,a)&&E[a].type.indexOf(b)>-1}function t(a,b){return(a.matches||a.msMatchesSelector||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector).call(a,b)}function u(a,b){return w(b,function(b,c){void 0===a[c]&&(a[c]=b)}),a}function v(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function w(a,b){for(var c in a)v(a,c)&&b(a[c],c)}function x(a,b){function c(){var e=document.createElement(a);return b.prototype=c.prototype,d(a,b,e),e}return c.prototype=b.prototype,c}function y(a){for(var b=a;b&&b!==document;){if(b.hasAttribute(A))return b;b=b.parentNode}}function z(b,c,d){var e=c.indexOf(a.types.TAG)>-1,f=c.indexOf(a.types.ATTR)>-1,g=c.indexOf(a.types.CLASS)>-1,d=d?":not("+d+")":"",h=[];return e&&h.push(b+d),f&&h.push("["+b+"]"+d),g&&h.push("."+b+d),h.join(",")}var A="data-skate-ignore",B=document.createElement("style"),C=window.MutationObserver||window.WebkitMutationObserver||window.MozMutationObserver;C||(C=function(a){this.callback=a,this.elements=[]},C.prototype={observe:function(a,b){function c(c){return b.childList&&(b.subtree||c.target.parentNode===a)}function d(b){return b.target===a}function e(a,b){return u(b,{addedNodes:null,attributeName:null,attributeNamespace:null,nextSibling:a.target.nextSibling,oldValue:null,previousSibling:a.target.previousSibling,removedNodes:null,target:a.target,type:"childList"})}var f=this,g={},h={target:a,options:b,insertHandler:function(a){c(a)&&f.callback([e(a,{addedNodes:[a.target]})])},removeHandler:function(a){c(a)&&f.callback([e(a,{removedNodes:[a.target]})])},attributeHandler:function(a){d(a)&&(f.callback([e(a,{attributeName:a.attrName,oldValue:b.attributeOldValue?g[a.attrName]||a.prevValue||null:null,type:"attributes"})]),b.attributeOldValue&&(g[a.attrName]=a.newValue))}};return this.elements.push(h),b.childList&&(a.addEventListener("DOMSubtreeModified",h.insertHandler),a.addEventListener("DOMNodeRemoved",h.removeHandler)),b.attributes&&a.addEventListener("DOMAttrModified",h.attributeHandler),this},disconnect:function(){return w(this.elements,function(a){a.target.removeEventListener("DOMSubtreeModified",a.insertHandler),a.target.removeEventListener("DOMNodeRemoved",a.removeHandler),a.target.removeEventListener("DOMAttrModified",a.attributeHandler)}),this.elements=[],this}});var D,E={};a.version="0.9.0",a.types={ANY:"act",ATTR:"a",CLASS:"c",NOATTR:"ct",NOCLASS:"at",NOTAG:"ac",TAG:"t"},a.defaults={attributes:!1,classname:"__skate",events:!1,prototype:{},template:"",type:a.types.ANY},a.destroy=function(){return D&&(D.disconnect(),D=void 0),E={},a},a.init=function(d){if(y(d))return a;for(var e=b(d),f=0;f<e.length;f++)for(var g=e[f],h=r(g),i=0;i<h.length;i++)c(h[i],E[h[i]],g);return a},a.unregister=function(a){delete E[a]},a.watch=function(a){return new C(a)},a.when=function(a){return{is:function(b){return{then:function(c){if(m(a,b+".ready-called"))c(a);else{var d=m(a,b+".when-callbacks");d||(d=[]),d.push(c),n(a,b+".when-callbacks",d)}return this}}}}},document.getElementsByTagName("head")[0].appendChild(B),window.skate=a,"function"==typeof define&&define.amd?define(function(){return a}):"object"==typeof exports&&(module.exports=a)}();