!function(){"use strict";function a(a,b,c){return k(a,b.id+":lifecycle:"+c)}function b(a,b,c,d){l(a,b.id+":lifecycle:"+c,!!d)}function c(c,d,e){return a(c,d,e)?!0:(b(c,d,e,!0),!1)}function d(a,b){e(a,b),f(a,b)}function e(a,b){c(a,b,"ready")||(b.template&&b.template(a),o(a,b.prototype),i(a,b),b.ready&&b.ready(a),h(a,b))}function f(a,b){c(a,b,"insert")||(m(a,b.classname),b.insert&&b.insert(a))}function g(a,c){c.remove&&(c.remove(a),b(a,c,"insert",!1))}function h(a,b){function c(c,d,e,f){var g;b.attributes&&b.attributes[d]&&"function"==typeof b.attributes[d][c]?g=b.attributes[d][c]:b.attributes&&"function"==typeof b.attributes[d]?g=b.attributes[d]:"function"==typeof b.attributes&&(g=b.attributes),g&&g(a,{type:c,name:d,newValue:e,oldValue:f})}var d=a.attributes,e=d.length,f=new X(function(a){a.forEach(function(a){var b,e=a.attributeName,f=d[e];f&&null===a.oldValue?b="insert":f&&null!==a.oldValue?b="update":f||(b="remove"),c(b,e,f?f.value||f.nodeValue:void 0,a.oldValue)})});f.observe(a,{attributes:!0,attributeOldValue:!0});for(var g=0;e>g;g++){var h=d[g];h&&c("insert",h.nodeName,h.value||h.nodeValue)}}function i(a,b){function c(b,c){return function(d){if(!c)return b(a,d,a);for(var e=d.target;e&&e!==document&&e!==a;){if(T.call(e,c))return b(a,d,e);e=e.parentNode}}}"object"==typeof b.events&&q(b.events,function(b,d){var e=j(d);a.addEventListener(e.name,c(b,e.delegate))})}function j(a){var b=a.split(" ");return{name:b.shift(),delegate:b.join(" ")}}function k(a,b){return a.__SKATE_DATA?a.__SKATE_DATA[b]:void 0}function l(a,b,c){return a.__SKATE_DATA||(a.__SKATE_DATA={}),a.__SKATE_DATA[b]=c,a}function m(a,b){a.classList?a.classList.add(b):a.className+=a.className?" "+b:b}function n(a){var b=a.classList;if(b)return b;var c=a.attributes;return c["class"]&&c["class"].nodeValue.split(/\s+/)||[]}function o(a,b){for(var c=Object.getOwnPropertyNames(b),d=c.length,e=0;d>e;e++){var f=c[e];if(void 0===a[f]){var g=Object.getOwnPropertyDescriptor(b,f),h=g.get||g.set||!g.writable||!g.enumerable||!g.configurable;h?Object.defineProperty(a,f,g):a[f]=b[f]}}return a}function p(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function q(a,b){for(var c in a)p(a,c)&&b(a[c],c)}function r(a){function b(){var c,d=a.extends,f=a.id;return d?(c=document.createElement(d),c.setAttribute("is",f)):c=document.createElement(f),a.prototype=b.prototype,e(c,a),c}return b.prototype=a.prototype,b}function s(a){for(var b=a;b&&b!==document;){if(b.hasAttribute(Q))return b;b=b.parentNode}}function t(a,b,c,d){var e=b.indexOf(E.types.TAG)>-1,f=b.indexOf(E.types.ATTR)>-1,g=b.indexOf(E.types.CLASS)>-1,h=[];return c=c||"",d=d?":not("+d+")":"",e&&h.push(c?c+"[is="+a+"]"+d:a+d),f&&h.push(c+"["+a+"]"+d),g&&h.push(c+"."+a+d),h.join(",")}function u(a,b){return p(W,a)&&W[a].type.indexOf(b)>-1}function v(a,b){if(b){for(var c=a.querySelectorAll(b),d=c.length,e=[],f=0;d>f;f++){var g=c[f];g.parentNode===a&&e.push(g)}return e}return[].slice.call(a.childNodes)||[]}function w(a){var b={caption:"table",dd:"dl",dt:"dl",li:"ul",tbody:"table",td:"tr",thead:"table",tr:"tbody"},c=document.createDocumentFragment(),d=a.match(/\s*<([^\s>]+)/),e=document.createElement(d&&b[d[1]]||"div");for(e.innerHTML=a;e.childNodes.length;)c.appendChild(e.childNodes[0]);return c}function x(a,b){return 1!==a.nodeType?!1:a.contains?a.contains(b):S.call(a,b)}function y(a){if(1===a.nodeType&&!a.attributes[Q]){for(var b=document.createTreeWalker(a,NodeFilter.SHOW_ELEMENT,C,!0),c=E.components(a),e=c.length,f=0;e>f;f++)d(a,c[f]);for(;b.nextNode();)for(var g=b.currentNode,h=E.components(g),i=h.length,j=0;i>j;j++)d(g,h[j])}}function z(a){for(var b=a.length,c=0;b>c;c++)y(a[c])}function A(a){for(var b=a.length,c=0;b>c;c++){var d=a[c];if(1===d.nodeType){A(d.childNodes);for(var e=E.components(d),f=e.length,h=0;f>h;h++)g(d,e[h])}}}function B(a){var b=!1;return function(){b||(b=!0,setTimeout(function(){b=!1,a()},1))}}function C(a){var b=a.attributes;return b&&b[Q]?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}function D(a,b){return{addedNodes:null,attributeName:null,attributeNamespace:null,nextSibling:null,oldValue:null,previousSibling:null,removedNodes:null,target:a,type:b||"childList"}}function E(a,b){if(b=o(b||{},E.defaults),b.id=a,p(W,b.id))throw new Error('A component of type "'+b.type+'" with the ID of "'+a+'" already exists.');return b.template&&"string"==typeof b.template&&(b.template=E.template.html(b.template)),(b.ready||b.template)&&V.sheet.insertRule(t(b.id,b.type,b.extends,"."+b.classname)+"{display:none}",V.sheet.cssRules.length),W[b.id]=b,U&&P(),b.type.indexOf(E.types.TAG)>-1?r(b):void 0}function F(a,b){for(var c=[],d=a.nextSibling;d!==b;)c.push(d),d=d.nextSibling;return c}function G(a){var b=k(a,"content"),c=b.length;return{childNodes:{get:function(){for(var a=[],d=0;c>d;d++){var e=b[d];e.isDefault||(a=a.concat(F(e.startNode,e.endNode)))}return a}},firstChild:{get:function(){var a=this.childNodes;return a.length&&a[0]||null}},innerHTML:{get:function(){for(var a="",b=this.childNodes,c=b.length,d=0;c>d;d++){var e=b[d];a+=e.outerHTML||e.textContent}return a},set:function(a){for(var d=w(a),e=0;c>e;e++){for(var f=b[e],g=F(f.startNode,f.endNode),h=0;h<g.length;h++){var i=g[h];i.parentNode.removeChild(i)}for(var j=v(d,f.selector),k=0;k<j.length;k++)f.container.insertBefore(j[k],f.endNode);j.length?I(f):H(f)}}},lastChild:{get:function(){for(var a=c-1;a>-1;a--){var d=b[a];if(!d.isDefault){var e=this.childNodes,f=e.length;return e[f-1]}}return null}},outerHTML:{get:function(){var a=this.tagName.toLowerCase(),b="<"+a,c=this.attributes;if(c)for(var d=c.length,e=0;d>e;e++){var f=c[e];b+=" "+f.nodeName+'="'+f.nodeValue+'"'}return b+=">",b+=this.innerHTML,b+="</"+a+">"}},textContent:{get:function(){for(var a="",b=this.childNodes,c=this.childNodes.length,d=0;c>d;d++)a+=b[d].textContent;return a},set:function(a){var d;this.innerHTML="";for(var e=0;c>e;e++){var f=b[e];if(!f.selector){d=f;break}}d&&(a?(I(d),d.container.insertBefore(document.createTextNode(a),d.endNode)):H(d))}},appendChild:function(a){if(a instanceof Y){var d=a.childNodes;if(d)for(var e=d.length,f=0;e>f;f++)this.appendChild(d[f]);return this}for(var g=0;c>g;g++){var h=b[g],i=h.selector;if(!i||T.call(a,i)){I(h),h.endNode.parentNode.insertBefore(a,h.endNode);break}}return this},insertAdjacentHTML:function(b,c){return"afterbegin"===b?this.insertBefore(w(c),this.childNodes[0]):"beforeend"===b?this.appendChild(w(c)):a.insertAdjacentHTML(b,c),this},insertBefore:function(a,d){if(!d)return this.appendChild(a);if(a instanceof Y){var e=a.childNodes;if(e)for(var f=e.length,g=0;f>g;g++)this.insertBefore(e[g],d);return this}var h=!1;a:for(var i=0;c>i;i++)for(var j=b[i],k=F(j.startNode,j.endNode),l=k.length,m=0;l>m;m++){var n=k[m];if(n===d&&(h=!0),h){var o=j.selector;if(!o||T.call(a,o)){n.parentNode.insertBefore(a,n);break a}}}if(!h)throw new Error("DOMException 8: The node before which the new node is to be inserted is not a child of this node.");return a},removeChild:function(a){for(var d=!1,e=0;c>e;e++){var f=b[e];if(f.container===a.parentNode){f.container.removeChild(a),d=!0;break}f.startNode.nextSibling===f.endNode&&H(f)}if(!d)throw new Error("DOMException 8: The node in which you are trying to remove is not a child of this node.");return a},replaceChild:function(a,d){for(var e=0;c>e;e++){var f=b[e];if(f.container===d.parentNode){f.container.replaceChild(a,d);break}}return this}}}function H(a){for(var b=a.defaultNodes,c=b.length,d=0;c>d;d++)a.container.insertBefore(b[d],a.endNode);a.isDefault=!0}function I(a){for(var b=a.defaultNodes,c=b.length,d=0;c>d;d++){var e=b[d];e.parentNode.removeChild(e)}a.isDefault=!1}function J(a){var b=function(){};return b.prototype=document.createElement(a.tagName),new b}function K(a,b){return{get:function(){return a[b]},set:function(c){a[b]=c}}}function L(a,b){var c=J(a);Object.getOwnPropertyNames(a).forEach(function(d){Object.defineProperty(c,d,d in b?b[d]:K(a,d))});for(var d in c)c[d]&&c[d].bind&&(c[d]=d in b?b[d]:a[d].bind(a));return c}function M(a){var b=a.getElementsByTagName("content"),c=b&&b.length;if(c){for(var d=[];b.length;){var e=b[0],f=e.parentNode,g=document.createComment(""),h=document.createComment("");d.push({container:f,contentNode:e,defaultNodes:[].slice.call(e.childNodes),endNode:h,isDefault:!0,selector:e.getAttribute("select"),startNode:g}),f.replaceChild(h,e),f.insertBefore(g,h)}l(a,"content",d)}}function N(){P(),O=new X(function(a){for(var b=a.length,c=0;b>c;c++){var d=a[c],e=d.addedNodes,f=d.removedNodes;e&&e.length&&!s(e[0].parentNode)&&z(e),f&&f.length&&A(f)}}),O.observe(document,{childList:!0,subtree:!0})}var O,P=B(function(){y(document.getElementsByTagName("html")[0])}),Q="data-skate-ignore",R=window.HTMLElement.prototype,S=R.contains,T=R.matches||R.msMatchesSelector||R.webkitMatchesSelector||R.mozMatchesSelector||R.oMatchesSelector,U="complete"==document.readyState||"loaded"==document.readyState||"interactive"==document.readyState,V=document.createElement("style"),W={},X=window.MutationObserver||window.WebkitMutationObserver||window.MozMutationObserver;X||(X=function(a){this.callback=a,this.elements=[]},X.prototype={observe:function(a,b){function c(a){j.push(a),l()}function d(a){var b=a.target;if(b){var c=a.type,d=b.parentNode;f(d)&&(g&&x(g,b)||(h&&h.target===d||k.push(h=D(d)),"DOMNodeInserted"===c?(h.addedNodes||(h.addedNodes=[]),h.addedNodes.push(b)):(h.removedNodes||(h.removedNodes=[]),h.removedNodes.push(b)),g=b))}}function e(c){return b.attributes&&(b.subtree||c===a)}function f(c){return b.childList&&(b.subtree||c===a)}var g,h,i=this,j=[],k=[],l=B(function(){for(var a=j.length,b=0;a>b;b++)d(j[b]);i.callback(k),j=[],k=[],g=void 0,h=void 0}),m={},n=[],o=B(function(){var a=n.length;i.callback(n),n.splice(0,a)}),p={target:a,options:b,insertHandler:c,removeHandler:c,attributeHandler:function(a){var c=a.target;if(e(c)){var d=a.attrName,f=a.prevValue,g=a.newValue,h=D(c,"attributes");h.attributeName=d,b.attributeOldValue&&(h.oldValue=m[d]||f||null),n.push(h),b.attributeOldValue&&(m[d]=g),o()}}};return this.elements.push(p),b.childList&&(a.addEventListener("DOMNodeInserted",p.insertHandler),a.addEventListener("DOMNodeRemoved",p.removeHandler)),b.attributes&&a.addEventListener("DOMAttrModified",p.attributeHandler),this},disconnect:function(){return q(this.elements,function(a){a.target.removeEventListener("DOMNodeInserted",a.insertHandler),a.target.removeEventListener("DOMNodeRemoved",a.removeHandler),a.target.removeEventListener("DOMAttrModified",a.attributeHandler)}),this.elements=[],this}}),E.components=function(a){var b,c,d=a.attributes,e=d.length,f=[],g=d.is,h=g&&(g.value||g.nodeValue),i=a.tagName.toLowerCase(),j=h||i;u(j,E.types.TAG)&&(b=W[j],c=b.extends,h?i===c&&f.push(b):c||f.push(b));for(var k=0;e>k;k++){var l=d[k].nodeName;u(l,E.types.ATTR)&&(b=W[l],c=b.extends,c&&i!==c||f.push(b))}for(var m=n(a),o=m.length,p=0;o>p;p++){var q=m[p];u(q,E.types.CLASS)&&(b=W[q],c=b.extends,c&&i!==c||f.push(b))}return f},E.destroy=function(){return W={},E},E.init=function(a){return a?("string"==typeof a&&(a=document.querySelectorAll(a)),z("undefined"==typeof a.length?[a]:a),a):void 0},E.types={ANY:"act",ATTR:"a",CLASS:"c",NOATTR:"ct",NOCLASS:"at",NOTAG:"ac",TAG:"t"},E.unregister=function(a){return delete W[a],E},E.version="0.10.0",E.defaults={attributes:!1,classname:"__skate",events:!1,"extends":"",id:"",prototype:{},template:!1,type:E.types.ANY};var Y=window.DocumentFragment;E.template={},E.template.html=function(a){return function(b){var c=b.innerHTML;b.innerHTML=a,M(b),c&&(E.template.html.wrap(b).innerHTML=c)}},E.template.html.wrap=function(a){return k(a,"content")?L(a,G(a)):a},document.getElementsByTagName("head")[0].appendChild(V),U?N():document.addEventListener("DOMContentLoaded",function(){N(),U=!0}),window.skate=E,"function"==typeof define&&define.amd?define(function(){return E}):"object"==typeof module&&(module.exports=E)}();