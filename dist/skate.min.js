!function(){"use strict";function a(a,d){h(a,d.id+".initialised")||(i(a,d.id+".initialised",!0),b(a,d,function(){c(a,d)}))}function b(a,b,c){var d=/^[^(]+\([^,)]+,/;return c=c||function(){},h(a,b.id+".ready-called")?c():(i(a,b.id+".ready-called",!0),b.template&&b.template(a),l(a,b.prototype),f(a,b),void(b.ready&&d.test(b.ready)?b.ready(a,c):b.ready?(b.ready(a),c()):c()))}function c(a,b){a.parentNode&&(h(a,b.id+".insert-called")||(i(a,b.id+".insert-called",!0),j(a,b.classname),b.insert&&b.insert(a),e(a,b)))}function d(a,b){h(a,b.id+".remove-called")||(i(a,b.id+".remove-called",!0),b.remove&&b.remove(a))}function e(a,b){function c(c,d,e,f){var g;b.attributes&&b.attributes[d]&&"function"==typeof b.attributes[d][c]?g=b.attributes[d][c]:b.attributes&&"function"==typeof b.attributes[d]?g=b.attributes[d]:"function"==typeof b.attributes&&(g=b.attributes),g&&g(a,{type:c,name:d,newValue:e,oldValue:f})}var d=a.attributes,e=d.length,f=new V(function(a){a.forEach(function(a){var b,e=a.attributeName,f=d[e];f&&null===a.oldValue?b="insert":f&&null!==a.oldValue?b="update":f||(b="remove"),c(b,e,f?f.value||f.nodeValue:void 0,a.oldValue)})});f.observe(a,{attributes:!0,attributeOldValue:!0});for(var g=0;e>g;g++){var h=d[g];h&&c("insert",h.nodeName,h.value||h.nodeValue)}}function f(a,b){function c(b,c){return function(d){(!c||R.call(d.target,c))&&b(a,d)}}"object"==typeof b.events&&n(b.events,function(b,d){var e=g(d);a.addEventListener(e.name,c(b,e.delegate))})}function g(a){var b=a.split(" ");return{name:b.shift(),delegate:b.join(" ")}}function h(a,b){return a.__SKATE_DATA?a.__SKATE_DATA[b]:void 0}function i(a,b,c){return a.__SKATE_DATA||(a.__SKATE_DATA={}),a.__SKATE_DATA[b]=c,a}function j(a,b){a.classList?a.classList.add(b):a.className+=a.className?" "+b:b}function k(a){var b=a.classList;if(b)return b;var c=a.attributes;return c["class"]&&c["class"].nodeValue.split(/\s+/)||[]}function l(a,b){for(var c=Object.getOwnPropertyNames(b),d=c.length,e=0;d>e;e++){var f=c[e];if(void 0===a[f]){var g=Object.getOwnPropertyDescriptor(b,f),h=g.get||g.set||!g.writable||!g.enumerable||!g.configurable;h?Object.defineProperty(a,f,g):a[f]=b[f]}}return a}function m(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function n(a,b){for(var c in a)m(a,c)&&b(a[c],c)}function o(a){function c(){var d=document.createElement(a.id);return a.prototype=c.prototype,b(d,a),d}return c.prototype=a.prototype,c}function p(a){for(var b=a;b&&b!==document;){if(b.hasAttribute(O))return b;b=b.parentNode}}function q(a,b,c){var d=b.indexOf(D.types.TAG)>-1,e=b.indexOf(D.types.ATTR)>-1,f=b.indexOf(D.types.CLASS)>-1,g=[];return c=c?":not("+c+")":"",d&&(g.push(a+c),g.push("[is="+a+"]"+c)),e&&g.push("["+a+"]"+c),f&&g.push("."+a+c),g.join(",")}function r(a,b){return m(U,a)&&U[a].type.indexOf(b)>-1}function s(a,b){if(b){for(var c=a.querySelectorAll(b),d=c.length,e=[],f=0;d>f;f++){var g=c[f];g.parentNode===a&&e.push(g)}return e}return a.childNodes||[]}function t(a){var b={caption:"table",dd:"dl",dt:"dl",li:"ul",tbody:"table",td:"tr",thead:"table",tr:"tbody"},c=document.createDocumentFragment(),d=a.match(/\s*<([^\s>]+)/),e=document.createElement(d&&b[d[1]]||"div");return e.innerHTML=a,u(c,e.childNodes),c}function u(a,b){for(var c=b.length,d=c;d>0;d--)a.appendChild(b[0])}function v(a,b){return 1!==a.nodeType?!1:a.contains?a.contains(b):Q.call(a,b)}function w(b){if(1===b.nodeType&&!b.attributes[O]){for(var c=document.createTreeWalker(b,NodeFilter.SHOW_ELEMENT,B,!0),d=D.components(b),e=d.length,f=0;e>f;f++)a(b,d[f]);for(;c.nextNode();)for(var g=c.currentNode,h=D.components(g),i=h.length,j=0;i>j;j++)a(g,h[j])}}function x(a){for(var b=a.length,c=0;b>c;c++)w(a[c])}function y(a){for(var b=a.length,c=0;b>c;c++){var d=a[c];if(1===d.nodeType){var e=d.childNodes;y(e),D.components(d).forEach(z(d))}}}function z(a){return function(b){d(a,b)}}function A(a){var b=!1;return function(){b||(b=!0,setTimeout(function(){b=!1,a()},1))}}function B(a){var b=a.attributes;return b&&b[O]?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}function C(a,b){return{addedNodes:null,attributeName:null,attributeNamespace:null,nextSibling:null,oldValue:null,previousSibling:null,removedNodes:null,target:a,type:b||"childList"}}function D(a,b){if(b=l(b||{},D.defaults),b.id=a,m(U,b.id))throw new Error('A component of type "'+b.type+'" with the ID of "'+a+'" already exists.');return b.template&&"string"==typeof b.template&&(b.template=D.template.html(b.template)),(b.ready||b.template)&&T.sheet.insertRule(q(b.id,b.type,"."+b.classname)+"{display:none}",T.sheet.cssRules.length),U[b.id]=b,S&&M(),b.type.indexOf(D.types.TAG)>-1?o(b):void 0}function E(a){var b=h(a,"content"),c=b.length;return{childNodes:{get:function(){for(var a=[],d=0;c>d;d++){var e=b[d];if(!h(e,"default-content-state")){var f=e.childNodes,g=f&&f.length;if(g)for(var i=0;g>i;i++)a.push(f[i])}}return a}},firstChild:{get:function(){for(var a=0;c>a;a++){var d=b[a];if(!h(d,"default-content-state")){var e=d.childNodes,f=e&&e.length;if(f)return e[0]}}return null}},innerHTML:{get:function(){var a="",b=this.childNodes,c=b&&b.length;if(c)for(var d=0;c>d;d++){var e=b[d];a+=e.outerHTML||e.textContent}return a},set:function(a){for(var d=t(a),e=0;c>e;e++){var f=b[e],g=f.getAttribute(N),h=s(d,g);f.innerHTML="",h.length&&u(f,h),F(f)}}},lastChild:{get:function(){for(var a=c-1;a>-1;a--){var d=b[a];if(!h(d,"default-content-state")){var e=d.childNodes,f=e&&e.length;if(f)return e[f-1]}}return null}},outerHTML:{get:function(){var a=this.tagName.toLowerCase(),b="<"+a,c=this.attributes;if(c)for(var d=c.length,e=0;d>e;e++){var f=c[e];b+=" "+f.nodeName+'="'+f.nodeValue+'"'}return b+=">",b+=this.innerHTML,b+="</"+a+">"}},textContent:{get:function(){for(var a="",b=this.childNodes,c=this.childNodes.length,d=0;c>d;d++)a+=b[d].textContent;return a},set:function(a){for(var d,e=0;c>e;e++){var f=b[e];f.innerHTML="",d||f.getAttribute(N)||(d=f)}d&&(G(d),d.textContent=a,F(d))}},appendChild:function(a){if(a instanceof W){var d=a.childNodes;if(d)for(var e=d.length,f=0;e>f;f++)this.appendChild(d[f]);return this}for(var g=0;c>g;g++){var h=b[g],i=h.getAttribute(N);if(!i||R.call(a,i)){G(h),h.appendChild(a);break}}return this},insertAdjacentHTML:function(b,c){return"afterbegin"===b?this.insertBefore(t(c),this.childNodes[0]):"beforeend"===b?this.appendChild(t(c)):a.insertAdjacentHTML(b,c),this},insertBefore:function(a,b){if(!b)return this.appendChild(a);if(a instanceof W){var c=a.childNodes;if(c)for(var d=c.length,e=0;d>e;e++)this.insertBefore(c[e],b);return this}var f=this.childNodes,g=f&&f.length,h=!1;if(g)for(var i,j=0;g>j;j++){var k=f[j];if(!h){if(k!==b)continue;h=!0}var l=k.parentNode;if(!i||i!==l){i=l;var m=l.getAttribute(N);if(!m||R.call(a,m)){l.insertBefore(a,k);break}}}if(!h)throw new Error("DOMException 8: The node before which the new node is to be inserted is not a child of this node.");return this},removeChild:function(a){for(var d=0;c>d;d++){var e=b[d];if(e===a.parentNode){e.removeChild(a);break}F(e)}return this},replaceChild:function(a,d){for(var e=0;c>e;e++){var f=b[e];if(f===d.parentNode){f.replaceChild(a,d);break}}return this}}}function F(a){var b=a.childNodes;if(!b||!b.length){var c=h(a,"default-content"),d=c&&c.length;if(d){a.innerHTML="";for(var e=0;d>e;e++)a.appendChild(c[e]);i(a,"default-content-state",!0)}}}function G(a){var b=h(a,"default-content"),c=b&&b.length;if(c){for(var d=0;c>d;d++){var e=b[d];e.parentNode&&a.removeChild(e)}i(a,"default-content-state",!1)}}function H(a){var b=function(){};return b.prototype=document.createElement(a.tagName),new b}function I(a,b){return{get:function(){return a[b]},set:function(c){a[b]=c}}}function J(a,b){var c=H(a);Object.getOwnPropertyNames(a).forEach(function(d){Object.defineProperty(c,d,d in b?b[d]:I(a,d))});for(var d in c)c[d]&&c[d].bind&&(c[d]=d in b?b[d]:a[d].bind(a));return c}function K(a){var b=a.querySelectorAll("["+N+"]"),c=b&&b.length;if(c){i(a,"content",b);for(var d=0;c>d;d++){var e=b[d];i(e,"default-content",[].slice.call(e.childNodes))}}}var L,M=A(function(){w(document.getElementsByTagName("html")[0])}),N="data-skate-content",O="data-skate-ignore",P=window.HTMLElement.prototype,Q=P.contains,R=P.matches||P.msMatchesSelector||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector,S=!1,T=document.createElement("style"),U={},V=window.MutationObserver||window.WebkitMutationObserver||window.MozMutationObserver;V||(V=function(a){this.callback=a,this.elements=[]},V.prototype={observe:function(a,b){function c(a){j.push(a),l()}function d(a){var b=a.target;if(b){var c=b.parentNode;f(c)&&(g&&v(g,b)||(h||k.push(h=C(c)),c?(h.addedNodes||(h.addedNodes=[]),h.addedNodes.push(b)):(h.removedNodes||(h.removedNodes=[]),h.removedNodes.push(b)),g=b))}}function e(b){return b===a}function f(c){return b.childList&&(b.subtree||c===a)}var g,h,i=this,j=[],k=[],l=A(function(){for(var a=j.length,b=0;a>b;b++)d(j[b]);i.callback(k),j=[],k=[],g=void 0,h=void 0}),m={},n=[],o=A(function(){var a=n.length;i.callback(n),n.splice(0,a)}),p={target:a,options:b,insertHandler:c,removeHandler:c,attributeHandler:function(a){var c=a.target;if(e(c)){var d=a.attrName,f=a.prevValue,g=a.newValue,h=C(c,"attributes");h.attributeName=d,b.attributeOldValue&&(h.oldValue=m[d]||f||null),n.push(h),b.attributeOldValue&&(m[d]=g),o()}}};return this.elements.push(p),b.childList&&(a.addEventListener("DOMNodeInserted",p.insertHandler),a.addEventListener("DOMNodeRemoved",p.removeHandler)),b.attributes&&a.addEventListener("DOMAttrModified",p.attributeHandler),this},disconnect:function(){return n(this.elements,function(a){a.target.removeEventListener("DOMNodeInserted",a.insertHandler),a.target.removeEventListener("DOMNodeRemoved",a.removeHandler),a.target.removeEventListener("DOMAttrModified",a.attributeHandler)}),this.elements=[],this}}),D.components=function(a){var b=a.attributes,c=b.length,d=[],e=b.is,f=e&&(e.value||e.nodeValue)||a.tagName.toLowerCase();r(f,D.types.TAG)&&d.push(U[f]);for(var g=0;c>g;g++){var h=b[g].nodeName;r(h,D.types.ATTR)&&d.push(U[h])}for(var i=k(a),j=i.length,l=0;j>l;l++){var m=i[l];r(m,D.types.CLASS)&&d.push(U[m])}return d},D.destroy=function(){return U={},D},D.init=function(a){return a?("string"==typeof a&&(a=document.querySelectorAll(a)),x("undefined"==typeof a.length?[a]:a),a):void 0},D.types={ANY:"act",ATTR:"a",CLASS:"c",NOATTR:"ct",NOCLASS:"at",NOTAG:"ac",TAG:"t"},D.unregister=function(a){return delete U[a],D},D.version="0.9.3",D.defaults={attributes:!1,classname:"__skate",events:!1,id:"",prototype:{},template:!1,type:D.types.ANY};var W=window.DocumentFragment;D.template={},D.template.html=function(a){return function(b){var c=b.innerHTML;b.innerHTML=a,K(b),c&&(D.template.html.wrap(b).innerHTML=c)}},D.template.html.wrap=function(a){return h(a,"content")?J(a,E(a)):a},document.getElementsByTagName("head")[0].appendChild(T),document.addEventListener("DOMContentLoaded",function(){M(),L=new V(function(a){for(var b=a.length,c=0;b>c;c++){var d=a[c],e=d.addedNodes,f=d.removedNodes;e&&e.length&&!p(e[0].parentNode)&&x(e),f&&f.length&&y(f)}}),L.observe(document,{childList:!0,subtree:!0}),S=!0}),window.skate=D,"function"==typeof define&&define.amd?define(function(){return D}):"object"==typeof module&&(module.exports=D)}();