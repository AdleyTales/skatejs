(function e$$0(k,b,n){function d(c,g){if(!b[c]){if(!k[c]){var q="function"==typeof require&&require;if(!g&&q)return q(c,!0);if(e)return e(c,!0);q=Error("Cannot find module '"+c+"'");throw q.code="MODULE_NOT_FOUND",q;}q=b[c]={exports:{}};k[c][0].call(q.exports,function(e){var b=k[c][1][e];return d(b?b:e)},q,q.exports,e$$0,k,b,n)}return b[c].exports}for(var e="function"==typeof require&&require,g=0;g<n.length;g++)d(n[g]);return d})({1:[function(a,k,b){b.ATTR_IGNORE="data-skate-ignore";b.types={ANY:"act",
ATTR:"a",CLASS:"c",NOATTR:"ct",NOCLASS:"at",NOTAG:"ac",TAG:"t"}},{}],2:[function(a,k,b){b["default"]={get:function(a,d){if(a.__SKATE_DATA)return a.__SKATE_DATA[d]},set:function(a,d,e){a.__SKATE_DATA||(a.__SKATE_DATA={});a.__SKATE_DATA[d]=e;return a}}},{}],3:[function(a,k,b){function n(a){for(var c=a.length,d=0;d<c;d++){var b=a[d],f=b.addedNodes,b=b.removedNodes;f&&f.length&&!l(f[0].parentNode)&&e(f);b&&b.length&&g(b)}}var d=a("./globals")["default"],e=a("./lifecycle").initElements,g=a("./lifecycle").removeElements,
c=a("./mutation-observer")["default"],l=a("./utils").getClosestIgnoredElement;b["default"]={register:function(a){a&&(c.fixIe(),this.unregister());d.observer||(a=new c(n),a.observe(document,{childList:!0,subtree:!0}),d.observer=a);return this},unregister:function(){d.observer&&(d.observer.disconnect(),d.observer=void 0);return this}}},{"./globals":4,"./lifecycle":5,"./mutation-observer":6,"./utils":9}],4:[function(a,k,b){a="__skate_"+a("./version")["default"].replace(/[^\w]/g,"_");window[a]||(window[a]=
{observer:void 0,registry:{}});b["default"]=window[a]},{"./version":10}],5:[function(a,k,b){function n(a,c,f){if(t.get(a,c.id+":lifecycle:"+f))return!0;t.set(a,c.id+":lifecycle:"+f,!0);return!1}function d(a,c){function f(d,b,e,p){var g;c.attributes&&c.attributes[b]&&"function"===typeof c.attributes[b][d]?g=c.attributes[b][d]:c.attributes&&"function"===typeof c.attributes[b]?g=c.attributes[b]:"function"===typeof c.attributes&&(g=c.attributes);g&&g(a,{type:d,name:b,newValue:e,oldValue:p})}var d,b=a.attributes,
e=[],p=b.length;(new h(function(a){a.forEach(function(a){var c,d=a.attributeName,e=b[d];e&&null===a.oldValue?c="created":e&&null!==a.oldValue?c="updated":e||(c="removed");f(c,d,e?e.value||e.nodeValue:void 0,a.oldValue)})})).observe(a,{attributes:!0,attributeOldValue:!0});for(d=0;d<p;d++)e.push(b[d]);for(d=0;d<p;d++){var g=e[d];f("created",g.nodeName,g.value||g.nodeValue)}}function e(a,c){function d(c,f){return function(d){if(!f)return c(a,d,a);for(var e=d.target;e&&e!==document&&e!==a.parentNode;){if(p.call(e,
f))return c(a,d,e);e=e.parentNode}}}"object"===typeof c.events&&r(c.events,function(c,e){var f,b;b=e.split(" ");f=b.shift();b=b.join(" ");var g=!!b&&("blur"===f||"focus"===f);a.addEventListener(f,d(c,b),g)})}function g(a,c){n(a,c,"created")||(f(a,c.prototype,!0),c.template&&c.template(a),e(a,c),d(a,c),c.created&&c.created(a))}function c(a){for(var d=a.length,e=0;e<d;e++){var f=a[e];if(1===f.nodeType&&!f.attributes[q]){for(var b=m.getForElement(f),p=b.length,r=0;r<p;r++){var l=f,h=b[r];g(l,h);n(l,
h,"attached")||(l.removeAttribute(h.unresolvedAttribute),l.setAttribute(h.resolvedAttribute,""),h.attached&&h.attached(l))}f=f.childNodes;f.length&&c(f)}}}function l(a){for(var c=a.length,f=0;f<c;f++){var d=a[f];if(1===d.nodeType){l(d.childNodes);for(var e=m.getForElement(d),b=e.length,g=0;g<b;g++){var p=d,h=e[g];h.detached&&h.detached(p);t.set(p,h.id+":lifecycle:attached",!1)}}}}var q=a("./constants").ATTR_IGNORE,t=a("./data")["default"],h=a("./mutation-observer")["default"],m=a("./registry")["default"],
f=a("./utils").inherit,r=a("./utils").objEach;a=window.HTMLElement.prototype;var p=a.matches||a.msMatchesSelector||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector;b.triggerCreated=g;b.initElements=c;b.removeElements=l},{"./constants":1,"./data":2,"./mutation-observer":6,"./registry":7,"./utils":9}],6:[function(a,k,b){function n(a,c){return{addedNodes:null,attributeName:null,attributeNamespace:null,nextSibling:null,oldValue:null,previousSibling:null,removedNodes:null,target:a,type:c||
"childList"}}function d(a,c){var e=a.childNodes;if(e)for(var b=e.length,g=0;g<b;g++){var h=e[g];c(h);d(h,c)}}function e(a){if(t&&!h)return new t(a);this.callback=a;this.elements=[]}var g=a("./utils").debounce,c=a("./utils").objEach,l=window.HTMLElement.prototype,q=window.HTMLElement.prototype.contains,t=window.MutationObserver||window.WebkitMutationObserver||window.MozMutationObserver,h=!1,m=-1<window.navigator.userAgent.indexOf("Trident");e.fixIe=function(){if(m&&!h){var a=Object.getOwnPropertyDescriptor(l,
"innerHTML");Object.defineProperty(l,"innerHTML",{get:function(){return a.get.call(this)},set:function(c){d(this,function(a){var c=document.createEvent("MutationEvent");c.initMutationEvent("DOMNodeRemoved",!0,!1,null,null,null,null,null);a.dispatchEvent(c)});a.set.call(this,c)}});h=!0}};Object.defineProperty(e,"isFixingIe",{get:function(){return h}});e.prototype={observe:function(a,c){function e(a){m.push(a);k()}var d=this,b,l,m=[],t=[],k=g(function(){for(var e=m.length,g=0;g<e;g++){var p=m[g],k=
p.target;if(k){var p=p.type,u=k.parentNode;if(c.childList&&(c.subtree||u===a)){var w=h&&"DOMNodeRemoved"===p,v;if(v=b){v=b;var x=k;v=1!==v.nodeType?!1:v.contains?v.contains(x):q.call(v,x)}if(w||!v)l&&l.target===u||t.push(l=n(u)),"DOMNodeInserted"===p?(l.addedNodes||(l.addedNodes=[]),l.addedNodes.push(k)):(l.removedNodes||(l.removedNodes=[]),l.removedNodes.push(k)),b=k}}}d.callback(t);m=[];t=[];l=b=void 0}),x={},w=[],y=g(function(){var a=w.length;d.callback(w);w.splice(0,a)}),u={target:a,options:c,
insertHandler:e,removeHandler:e,attributeHandler:function(e){var d=e.target;if(c.attributes&&(c.subtree||d===a)){var b=e.attrName,g=e.prevValue;e=e.newValue;d=n(d,"attributes");d.attributeName=b;c.attributeOldValue&&(d.oldValue=x[b]||g||null);w.push(d);c.attributeOldValue&&(x[b]=e);y()}}};this.elements.push(u);c.childList&&(a.addEventListener("DOMNodeInserted",u.insertHandler),a.addEventListener("DOMNodeRemoved",u.removeHandler));c.attributes&&a.addEventListener("DOMAttrModified",u.attributeHandler);
return this},disconnect:function(){c(this.elements,function(a){a.target.removeEventListener("DOMNodeInserted",a.insertHandler);a.target.removeEventListener("DOMNodeRemoved",a.removeHandler);a.target.removeEventListener("DOMAttrModified",a.attributeHandler)});this.elements=[];return this}};b["default"]=e},{"./utils":9}],7:[function(a,k,b){function n(a,e){return g(d.registry,a)&&-1<d.registry[a].type.indexOf(e)}var d=a("./globals")["default"],e=a("./constants.js").types,g=a("./utils").hasOwn;b["default"]=
{clear:function(){d.registry={};return this},getForElement:function(a){var b=a.attributes,g=b.length,k=[],h=b.is,m=h&&(h.value||h.nodeValue),h=a.tagName.toLowerCase(),f=m||h,r;n(f,e.TAG)&&(f=d.registry[f],r=f["extends"],m?h===r&&k.push(f):r||k.push(f));for(m=0;m<g;m++)f=b[m].nodeName,n(f,e.ATTR)&&(f=d.registry[f],(r=f["extends"])&&h!==r||k.push(f));(b=a.classList)?a=b:(a=a.attributes,a=a["class"]&&a["class"].nodeValue.split(/\s+/)||[]);b=a.length;for(g=0;g<b;g++)f=a[g],n(f,e.CLASS)&&(f=d.registry[f],
(r=f["extends"])&&h!==r||k.push(f));return k},has:function(a){return g(d.registry,a)},set:function(a,e){if(this.has(a))throw Error('A definition of type "'+e.type+'" with the ID of "'+a+'" already exists.');d.registry[a]=e;return this},remove:function(a){this.has(a)&&delete d.registry[a];return this}}},{"./constants.js":1,"./globals":4,"./utils":9}],8:[function(a,k,b){function n(a){function e(){var b;b=a["extends"];var c=a.id;b?(b=document.createElement(b),b.setAttribute("is",c)):b=document.createElement(c);
a.prototype=e.prototype;g(b,a);return b}e.prototype=a.prototype;return e}function d(a,b){b=q(b||{},d.defaults);b.id=a;if(l.has(b.id))throw Error('A definition of type "'+b.type+'" with the ID of "'+a+'" already exists.');l.set(b.id,b);f();e.register(b.remove);if(-1<b.type.indexOf(h.TAG))return n(b)}var e=a("./document-observer")["default"],g=a("./lifecycle").triggerCreated,c=a("./lifecycle").initElements,l=a("./registry")["default"];k=a("./utils").debounce;var q=a("./utils").inherit,t=a("./version")["default"],
h=a("./constants").types,m=!!document.attachEvent,f=k(function(){var a=function(){c(document.getElementsByTagName("html"))},b;b=m?"complete"===document.readyState:"interactive"===document.readyState||"complete"===document.readyState;b?a():m?window.addEventListener("load",a):document.addEventListener("DOMContentLoaded",a)});d.init=function(a){if(a)return"string"===typeof a&&(a=document.querySelectorAll(a)),c("undefined"===typeof a.length?[a]:a),a};d.types=h;d.version=t;d.defaults={attributes:void 0,
events:void 0,"extends":"",id:"",prototype:{},resolvedAttribute:"resolved",template:void 0,type:h.ANY,unresolvedAttribute:"unresolved"};var r=window.skate;d.noConflict=function(){window.skate=r;return this};window.skate=d;"function"===typeof define&&define(function(){return d});"object"===typeof b&&(b["default"]=d);b["default"]=d},{"./constants":1,"./document-observer":3,"./lifecycle":5,"./registry":7,"./utils":9,"./version":10}],9:[function(a,k,b){function n(a,b){return Object.prototype.hasOwnProperty.call(a,
b)}b.hasOwn=n;b.debounce=function(a){var b=!1;return function(){b||(b=!0,setTimeout(function(){b=!1;a()},1))}};b.getClosestIgnoredElement=function(a){for(;a&&a!==document&&!(a instanceof DocumentFragment);){if(a.hasAttribute(d))return a;a=a.parentNode}};b.inherit=function(a,b,c){for(var d=Object.getOwnPropertyNames(b),k=d.length,n=0;n<k;n++){var h=d[n];if(c||void 0===a[h]){var m=Object.getOwnPropertyDescriptor(b,h);!m.get&&!m.set&&m.writable&&m.enumerable&&m.configurable?a[h]=b[h]:Object.defineProperty(a,
h,m)}}return a};b.objEach=function(a,b){for(var c in a)n(a,c)&&b(a[c],c)};"use strict";var d=a("./constants").ATTR_IGNORE},{"./constants":1}],10:[function(a,k,b){b["default"]="0.12.7"},{}]},{},[8]);
