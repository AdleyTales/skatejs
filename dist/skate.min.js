(function e$$0(h,b,m){function c(d,q){if(!b[d]){if(!h[d]){var l="function"==typeof require&&require;if(!q&&l)return l(d,!0);if(e)return e(d,!0);l=Error("Cannot find module '"+d+"'");throw l.code="MODULE_NOT_FOUND",l;}l=b[d]={exports:{}};h[d][0].call(l.exports,function(e){var b=h[d][1][e];return c(b?b:e)},l,l.exports,e$$0,h,b,m)}return b[d].exports}for(var e="function"==typeof require&&require,d=0;d<m.length;d++)c(m[d]);return c})({1:[function(a,h,b){b.ATTR_IGNORE="data-skate-ignore"},{}],2:[function(a,
h,b){b["default"]={get:function(a,c){if(a.__SKATE_DATA)return a.__SKATE_DATA[c]},set:function(a,c,e){a.__SKATE_DATA||(a.__SKATE_DATA={});a.__SKATE_DATA[c]=e;return a}}},{}],3:[function(a,h,b){function m(a){for(var c=a.length,b=0;b<c;b++){var f=a[b],g=f.addedNodes,f=f.removedNodes;g&&g.length&&!q(g[0].parentNode)&&e(g);f&&f.length&&d(f)}}var c=a("./globals")["default"],e=a("./lifecycle").initElements,d=a("./lifecycle").removeElements,p=a("./mutation-observer")["default"],q=a("./utils").getClosestIgnoredElement;
b["default"]={register:function(d){d&&(p.fixIe(),this.unregister());c.observer||(d=new p(m),d.observe(document,{childList:!0,subtree:!0}),c.observer=d);return this},unregister:function(){c.observer&&(c.observer.disconnect(),c.observer=void 0);return this}}},{"./globals":4,"./lifecycle":5,"./mutation-observer":6,"./utils":9}],4:[function(a,h,b){window.__skate||(window.__skate={observer:void 0,registry:{}});b["default"]=window.__skate},{}],5:[function(a,h,b){function m(d,a,c){if(g.get(d,a.id+":lifecycle:"+
c))return!0;g.set(d,a.id+":lifecycle:"+c,!0);return!1}function c(d,a,c){var b,g,e=c.name,f=c.newValue;c=c.oldValue;var n="string"===typeof f,r="string"===typeof c;!r&&n?g="created":r&&n?g="updated":r&&!n&&(g="removed");a.attributes&&a.attributes[e]&&"function"===typeof a.attributes[e][g]?b=a.attributes[e][g]:a.attributes&&"function"===typeof a.attributes[e]?b=a.attributes[e]:"function"===typeof a.attributes&&(b=a.attributes);b&&b(d,{type:g,name:e,newValue:f,oldValue:c})}function e(a,d){if(d.attributes){var g=
a.attributes;(new n(function(b){b.forEach(function(b){var e=b.attributeName,n=g[e];c(a,d,{name:e,newValue:n&&(n.value||n.nodeValue),oldValue:b.oldValue})})})).observe(a,{attributes:!0,attributeOldValue:!0})}}function d(a,d){function c(d,b){return function(c){if(!b)return d(a,c,a);for(var e=c.target;e&&e!==document&&e!==a.parentNode;){if(x.call(e,b))return d(a,c,e);e=e.parentNode}}}d.events&&B(d.events,function(d,e){var b,g;g=e.split(" ");b=g.shift();g=g.join(" ");var n=!!g&&("blur"===b||"focus"===
b);a.addEventListener(b,c(d,g),n)})}function p(a,b){if(!m(a,b,"created")){y(a,b.prototype,!0);b.template&&b.template(a);d(a,b);e(a,b);var g,n=a.attributes,f=[],r=n.length;for(g=0;g<r;g++)f.push(n[g]);for(g=0;g<r;g++)n=f[g],c(a,b,{name:n.nodeName,newValue:n.value||n.nodeValue});b.created&&b.created(a)}}function q(a,d){m(a,d,"attached")||(a.removeAttribute(d.unresolvedAttribute),a.setAttribute(d.resolvedAttribute,""),d.attached&&d.attached(a))}function l(a,d){d.detached&&d.detached(a);g.set(a,d.id+
":lifecycle:attached",!1)}function k(a){for(var d=a.length,b=0;b<d;b++){var g=a[b];if(1===g.nodeType&&!g.attributes[f]){for(var c=r.getForElement(g),e=c.length,n=0;n<e;n++){var l=g,y=c[n];p(l,y);q(l,y)}g=g.childNodes;g.length&&k(g)}}}function s(a){for(var d=a.length,g=0;g<d;g++){var b=a[g];if(1===b.nodeType){s(b.childNodes);for(var c=r.getForElement(b),e=c.length,n=0;n<e;n++)l(b,c[n])}}}var f=a("./constants").ATTR_IGNORE,g=a("./data")["default"],n=a("./mutation-observer")["default"],r=a("./registry")["default"],
y=a("./utils").inherit,B=a("./utils").objEach;a=window.HTMLElement.prototype;var x=a.matches||a.msMatchesSelector||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector;b.triggerCreated=p;b.triggerAttached=q;b.triggerDetached=l;b.triggerAttributeChanged=c;b.initElements=k;b.removeElements=s},{"./constants":1,"./data":2,"./mutation-observer":6,"./registry":7,"./utils":9}],6:[function(a,h,b){function m(a,d){return{addedNodes:null,attributeName:null,attributeNamespace:null,nextSibling:null,
oldValue:null,previousSibling:null,removedNodes:null,target:a,type:d||"childList"}}function c(a,d){var b=a.childNodes;if(b)for(var e=b.length,f=0;f<e;f++){var p=b[f];d(p);c(p,d)}}function e(a){if(k&&!s)return new k(a);this.callback=a;this.elements=[]}var d=a("./utils").debounce,p=a("./utils").objEach,q=window.HTMLElement.prototype,l=window.HTMLElement.prototype.contains,k=window.MutationObserver||window.WebkitMutationObserver||window.MozMutationObserver,s=!1,f=-1<window.navigator.userAgent.indexOf("Trident");
e.fixIe=function(){if(f&&!s){var a=Object.getOwnPropertyDescriptor(q,"innerHTML");Object.defineProperty(q,"innerHTML",{get:function(){return a.get.call(this)},set:function(d){c(this,function(a){var d=document.createEvent("MutationEvent");d.initMutationEvent("DOMNodeRemoved",!0,!1,null,null,null,null,null);a.dispatchEvent(d)});a.set.call(this,d)}});s=!0}};Object.defineProperty(e,"isFixingIe",{get:function(){return s}});e.prototype={observe:function(a,b){function c(a){k.push(a);h()}var e=this,f,p,k=
[],q=[],h=d(function(){for(var d=k.length,c=0;c<d;c++){var r=k[c],h=r.target;if(h){var r=r.type,v=h.parentNode;if(b.childList&&(b.subtree||v===a)){var w=s&&"DOMNodeRemoved"===r,t;if(t=f){t=f;var u=h;t=1!==t.nodeType?!1:t.contains?t.contains(u):l.call(t,u)}if(w||!t)p&&p.target===v||q.push(p=m(v)),"DOMNodeInserted"===r?(p.addedNodes||(p.addedNodes=[]),p.addedNodes.push(h)):(p.removedNodes||(p.removedNodes=[]),p.removedNodes.push(h)),f=h}}}e.callback(q);k=[];q=[];p=f=void 0}),v={},w=[],A=d(function(){var a=
w.length;e.callback(w);w.splice(0,a)}),u={target:a,options:b,insertHandler:c,removeHandler:c,attributeHandler:function(d){var c=d.target;if(b.attributes&&(b.subtree||c===a)){var e=d.attrName,f=d.prevValue;d=d.newValue;c=m(c,"attributes");c.attributeName=e;b.attributeOldValue&&(c.oldValue=v[e]||f||null);w.push(c);b.attributeOldValue&&(v[e]=d);A()}}};this.elements.push(u);b.childList&&(a.addEventListener("DOMNodeInserted",u.insertHandler),a.addEventListener("DOMNodeRemoved",u.removeHandler));b.attributes&&
a.addEventListener("DOMAttrModified",u.attributeHandler);return this},disconnect:function(){p(this.elements,function(a){a.target.removeEventListener("DOMNodeInserted",a.insertHandler);a.target.removeEventListener("DOMNodeRemoved",a.removeHandler);a.target.removeEventListener("DOMAttrModified",a.attributeHandler)});this.elements=[];return this}};b["default"]=e},{"./utils":9}],7:[function(a,h,b){function m(a,b){return e(c.registry,a)&&-1<c.registry[a].type.indexOf(b)}var c=a("./globals")["default"],
e=a("./utils").hasOwn;b["default"]={clear:function(){c.registry={};return this},getForElement:function(a){var b=a.attributes,e=b.length,l=[],k=b.is,h=k&&(k.value||k.nodeValue),k=a.tagName.toLowerCase(),f=h||k,g;m(f,skate.types.TAG)&&(f=c.registry[f],g=f["extends"],h?k===g&&l.push(f):g||l.push(f));for(h=0;h<e;h++)f=b[h].nodeName,m(f,skate.types.ATTR)&&(f=c.registry[f],(g=f["extends"])&&k!==g||l.push(f));(b=a.classList)?a=b:(a=a.attributes,a=a["class"]&&a["class"].nodeValue.split(/\s+/)||[]);b=a.length;
for(e=0;e<b;e++)f=a[e],m(f,skate.types.CLASS)&&(f=c.registry[f],(g=f["extends"])&&k!==g||l.push(f));return l},set:function(a,b){if(e(c.registry,a))throw Error('A definition of type "'+b.type+'" with the ID of "'+a+'" already exists.');c.registry[a]=b;return this}}},{"./globals":4,"./utils":9}],8:[function(a,h,b){function m(a){function b(){var c;c=a["extends"];var e=a.id;c?(c=document.createElement(c),c.setAttribute("is",e)):c=document.createElement(e);a.prototype=b.prototype;d(c,a);return c}b.prototype=
a.prototype;return b}function c(a,b){b=f(b||{},c.defaults);b.id=a;var h,k=b.type===c.types.TAG,x=k||-1<b.type.indexOf(c.types.TAG),z=0<a.indexOf("-");if("function"===typeof document.registerElement&&x&&z&&(h=document.registerElement(a,{"extends":b["extends"],prototype:f(b.prototype,{createdCallback:function(){d(this,b)},attachedCallback:function(){p(this,b)},detachedCallback:function(){q(this,b)},attributeChangedCallback:function(a,c,d){l(target,b,{name:a,oldValue:c,newValue:d})}})}),k))return h;
s.set(a,b);g();e.register(b.remove);!h&&x&&(h=m(b));return h}var e=a("./document-observer")["default"],d=a("./lifecycle").triggerCreated,p=a("./lifecycle").triggerAttached,q=a("./lifecycle").triggerDetached,l=a("./lifecycle").triggerAttributeChanged,k=a("./lifecycle").initElements,s=a("./registry")["default"];h=a("./utils").debounce;var f=a("./utils").inherit;a=a("./version")["default"];var g=h(function(){k(document.getElementsByTagName("html"))});c.init=function(a){var b=a;if(!a)return a;"string"===
typeof a?b=a=document.querySelectorAll(a):a instanceof window.HTMLElement&&(b=[a]);k(b);return a};c.types={ANY:"act",ATTR:"a",CLASS:"c",NOATTR:"ct",NOCLASS:"at",NOTAG:"ac",TAG:"t"};c.version=a;c.defaults={attributes:void 0,events:void 0,"extends":"",id:"",prototype:{},resolvedAttribute:"resolved",template:void 0,type:c.types.ANY,unresolvedAttribute:"unresolved"};window.skate=c;"function"===typeof define&&define(function(){return c});"object"===typeof b&&(b["default"]=c);b["default"]=c},{"./document-observer":3,
"./lifecycle":5,"./registry":7,"./utils":9,"./version":10}],9:[function(a,h,b){function m(a,b){return Object.prototype.hasOwnProperty.call(a,b)}b.hasOwn=m;b.debounce=function(a){var b=!1;return function(){b||(b=!0,setTimeout(function(){b=!1;a()},1))}};b.getClosestIgnoredElement=function(a){for(;a&&a!==document;){if(a.hasAttribute(c))return a;a=a.parentNode}};b.inherit=function(a,b,c){for(var h=Object.getOwnPropertyNames(b),l=h.length,k=0;k<l;k++){var m=h[k];if(c||void 0===a[m]){var f=Object.getOwnPropertyDescriptor(b,
m);!f.get&&!f.set&&f.writable&&f.enumerable&&f.configurable?a[m]=b[m]:Object.defineProperty(a,m,f)}}return a};b.objEach=function(a,b){for(var c in a)m(a,c)&&b(a[c],c)};"use strict";var c=a("./constants").ATTR_IGNORE},{"./constants":1}],10:[function(a,h,b){b["default"]="0.12.0"},{}]},{},[8]);
