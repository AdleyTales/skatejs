{"version":3,"file":"index.js","sources":["../node_modules/object-assign/index.js","../src/util/empty.js","../src/api/prop.js","../src/api/symbols.js","../node_modules/incremental-dom/src/util.js","../node_modules/incremental-dom/src/node_data.js","../node_modules/incremental-dom/src/symbols.js","../node_modules/incremental-dom/src/attributes.js","../node_modules/incremental-dom/src/nodes.js","../node_modules/incremental-dom/src/notifications.js","../node_modules/incremental-dom/src/context.js","../node_modules/incremental-dom/src/assertions.js","../node_modules/incremental-dom/src/core.js","../node_modules/incremental-dom/src/virtual_elements.js","../node_modules/incremental-dom/index.js","../src/util/support.js","../src/api/vdom.js","../src/util/data.js","../src/lifecycle/attribute-changed.js","../src/util/get-own-property-descriptors.js","../src/api/component.js","../src/util/matches-selector.js","../src/lifecycle/events.js","../src/lifecycle/render.js","../src/util/dash-case.js","../src/util/debounce.js","../src/api/emit.js","../src/lifecycle/props-init.js","../src/api/define.js","../src/api/factory.js","../src/api/state.js","../src/api/link.js","../src/api/ready.js","../src/api/version.js"],"sourcesContent":["'use strict';\n/* eslint-disable no-unused-vars */\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (e) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (Object.getOwnPropertySymbols) {\n\t\t\tsymbols = Object.getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","export default function (val) {\n  return typeof val === 'undefined' || val === null;\n}","import assign from 'object-assign';\nimport empty from '../util/empty';\n\nconst alwaysUndefinedIfEmptyOrNumber = val => empty(val) ? undefined : Number(val);\nconst alwaysUndefinedIfEmptyOrString = val => empty(val) ? undefined : String(val);\n\nexport function create (def) {\n  return function (...args) {\n    args.unshift({}, def);\n    return assign.apply(null, args);\n  };\n}\n\nexport const array = create({\n  coerce: val => Array.isArray(val) ? val : [val],\n  default: () => [],\n  deserialize: JSON.parse,\n  serialize: JSON.stringify\n});\n\nexport const boolean = create({\n  coerce: value => !!value,\n  default: false,\n  deserialize: value => !(value === null),\n  serialize: value => value ? '' : undefined\n});\n\nexport const number = create({\n  coerce: alwaysUndefinedIfEmptyOrNumber,\n  deserialize: alwaysUndefinedIfEmptyOrNumber,\n  serialize: alwaysUndefinedIfEmptyOrNumber\n});\n\nexport const string = create({\n  coerce: alwaysUndefinedIfEmptyOrString,\n  deserialize: alwaysUndefinedIfEmptyOrString,\n  serialize: alwaysUndefinedIfEmptyOrString\n});\n","export const events = '____events';\nexport const name = '____name';\nexport const props = '____props';\nexport const renderer = '____renderer';\nexport const shadowRoot = '____shadowRoot';\n","/**\n * Copyright 2015 The Incremental DOM Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n/**\n * A cached reference to the hasOwnProperty function.\n */\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\n\n/**\n * A cached reference to the create function.\n */\nconst create = Object.create;\n\n\n/**\n * Used to prevent property collisions between our \"map\" and its prototype.\n * @param {!Object<string, *>} map The map to check.\n * @param {string} property The property to check.\n * @return {boolean} Whether map has property.\n */\nconst has = function(map, property) {\n  return hasOwnProperty.call(map, property);\n};\n\n\n/**\n * Creates an map object without a prototype.\n * @return {!Object}\n */\nconst createMap = function() {\n  return create(null);\n};\n\n\n/** */\nexport {\n  createMap,\n  has\n};\n\n","/**\n * Copyright 2015 The Incremental DOM Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { createMap } from './util';\n\n\n/**\n * Keeps track of information needed to perform diffs for a given DOM node.\n * @param {!string} nodeName\n * @param {?string=} key\n * @constructor\n */\nfunction NodeData(nodeName, key) {\n  /**\n   * The attributes and their values.\n   * @const {!Object<string, *>}\n   */\n  this.attrs = createMap();\n\n  /**\n   * An array of attribute name/value pairs, used for quickly diffing the\n   * incomming attributes to see if the DOM node's attributes need to be\n   * updated.\n   * @const {Array<*>}\n   */\n  this.attrsArr = [];\n\n  /**\n   * The incoming attributes for this Node, before they are updated.\n   * @const {!Object<string, *>}\n   */\n  this.newAttrs = createMap();\n\n  /**\n   * The key used to identify this node, used to preserve DOM nodes when they\n   * move within their parent.\n   * @const\n   */\n  this.key = key;\n\n  /**\n   * Keeps track of children within this node by their key.\n   * {?Object<string, !Element>}\n   */\n  this.keyMap = null;\n\n  /**\n   * Whether or not the keyMap is currently valid.\n   * {boolean}\n   */\n  this.keyMapValid = true;\n\n  /**\n   * The node name for this node.\n   * @const {string}\n   */\n  this.nodeName = nodeName;\n\n  /**\n   * @type {?string}\n   */\n  this.text = null;\n}\n\n\n/**\n * Initializes a NodeData object for a Node.\n *\n * @param {Node} node The node to initialize data for.\n * @param {string} nodeName The node name of node.\n * @param {?string=} key The key that identifies the node.\n * @return {!NodeData} The newly initialized data object\n */\nconst initData = function(node, nodeName, key) {\n  const data = new NodeData(nodeName, key);\n  node['__incrementalDOMData'] = data;\n  return data;\n};\n\n\n/**\n * Retrieves the NodeData object for a Node, creating it if necessary.\n *\n * @param {Node} node The node to retrieve the data for.\n * @return {!NodeData} The NodeData for this Node.\n */\nconst getData = function(node) {\n  let data = node['__incrementalDOMData'];\n\n  if (!data) {\n    const nodeName = node.nodeName.toLowerCase();\n    let key = null;\n\n    if (node instanceof Element) {\n      key = node.getAttribute('key');\n    }\n\n    data = initData(node, nodeName, key);\n  }\n\n  return data;\n};\n\n\n/** */\nexport {\n  getData,\n  initData\n};\n","/**\n * Copyright 2015 The Incremental DOM Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @const */\nconst symbols = {\n  default: '__default',\n\n  placeholder: '__placeholder'\n};\n\n/** */\nexport {\n  symbols\n};\n","/**\n * Copyright 2015 The Incremental DOM Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { getData } from './node_data';\nimport { symbols } from './symbols';\nimport {\n  createMap,\n  has\n} from './util';\n\n\n/**\n * @param {string} name\n * @return {string|undefined} The namespace to use for the attribute.\n */\nconst getNamespace = function(name) {\n  if (name.lastIndexOf('xml:', 0) === 0) {\n    return 'http://www.w3.org/XML/1998/namespace';\n  }\n\n  if (name.lastIndexOf('xlink:', 0) === 0) {\n    return 'http://www.w3.org/1999/xlink';\n  }\n};\n\n\n/**\n * Applies an attribute or property to a given Element. If the value is null\n * or undefined, it is removed from the Element. Otherwise, the value is set\n * as an attribute.\n * @param {!Element} el\n * @param {string} name The attribute's name.\n * @param {?(boolean|number|string)=} value The attribute's value.\n */\nconst applyAttr = function(el, name, value) {\n  if (value == null) {\n    el.removeAttribute(name);\n  } else {\n    const attrNS = getNamespace(name);\n    if (attrNS) {\n      el.setAttributeNS(attrNS, name, value);\n    } else {\n      el.setAttribute(name, value);\n    }\n  }\n};\n\n/**\n * Applies a property to a given Element.\n * @param {!Element} el\n * @param {string} name The property's name.\n * @param {*} value The property's value.\n */\nconst applyProp = function(el, name, value) {\n  el[name] = value;\n};\n\n\n/**\n * Applies a style to an Element. No vendor prefix expansion is done for\n * property names/values.\n * @param {!Element} el\n * @param {string} name The attribute's name.\n * @param {*} style The style to set. Either a string of css or an object\n *     containing property-value pairs.\n */\nconst applyStyle = function(el, name, style) {\n  if (typeof style === 'string') {\n    el.style.cssText = style;\n  } else {\n    el.style.cssText = '';\n    const elStyle = el.style;\n    const obj = /** @type {!Object<string,string>} */(style);\n\n    for (const prop in obj) {\n      if (has(obj, prop)) {\n        elStyle[prop] = obj[prop];\n      }\n    }\n  }\n};\n\n\n/**\n * Updates a single attribute on an Element.\n * @param {!Element} el\n * @param {string} name The attribute's name.\n * @param {*} value The attribute's value. If the value is an object or\n *     function it is set on the Element, otherwise, it is set as an HTML\n *     attribute.\n */\nconst applyAttributeTyped = function(el, name, value) {\n  const type = typeof value;\n\n  if (type === 'object' || type === 'function') {\n    applyProp(el, name, value);\n  } else {\n    applyAttr(el, name, /** @type {?(boolean|number|string)} */(value));\n  }\n};\n\n\n/**\n * Calls the appropriate attribute mutator for this attribute.\n * @param {!Element} el\n * @param {string} name The attribute's name.\n * @param {*} value The attribute's value.\n */\nconst updateAttribute = function(el, name, value) {\n  const data = getData(el);\n  const attrs = data.attrs;\n\n  if (attrs[name] === value) {\n    return;\n  }\n\n  const mutator = attributes[name] || attributes[symbols.default];\n  mutator(el, name, value);\n\n  attrs[name] = value;\n};\n\n\n/**\n * A publicly mutable object to provide custom mutators for attributes.\n * @const {!Object<string, function(!Element, string, *)>}\n */\nconst attributes = createMap();\n\n// Special generic mutator that's called for any attribute that does not\n// have a specific mutator.\nattributes[symbols.default] = applyAttributeTyped;\n\nattributes[symbols.placeholder] = function() {};\n\nattributes['style'] = applyStyle;\n\n\n/** */\nexport {\n  updateAttribute,\n  applyProp,\n  applyAttr,\n  attributes\n};\n","/**\n * Copyright 2015 The Incremental DOM Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { updateAttribute } from './attributes';\nimport {\n    getData,\n    initData\n} from './node_data';\nimport { createMap } from './util';\n\n\n/**\n * Gets the namespace to create an element (of a given tag) in.\n * @param {string} tag The tag to get the namespace for.\n * @param {?Node} parent\n * @return {?string} The namespace to create the tag in.\n */\nconst getNamespaceForTag = function(tag, parent) {\n  if (tag === 'svg') {\n    return 'http://www.w3.org/2000/svg';\n  }\n\n  if (getData(parent).nodeName === 'foreignObject') {\n    return null;\n  }\n\n  return parent.namespaceURI;\n};\n\n\n/**\n * Creates an Element.\n * @param {Document} doc The document with which to create the Element.\n * @param {?Node} parent\n * @param {string} tag The tag for the Element.\n * @param {?string=} key A key to identify the Element.\n * @param {?Array<*>=} statics An array of attribute name/value pairs of the\n *     static attributes for the Element.\n * @return {!Element}\n */\nconst createElement = function(doc, parent, tag, key, statics) {\n  const namespace = getNamespaceForTag(tag, parent);\n  let el;\n\n  if (namespace) {\n    el = doc.createElementNS(namespace, tag);\n  } else {\n    el = doc.createElement(tag);\n  }\n\n  initData(el, tag, key);\n\n  if (statics) {\n    for (let i = 0; i < statics.length; i += 2) {\n      updateAttribute(el, /** @type {!string}*/(statics[i]), statics[i + 1]);\n    }\n  }\n\n  return el;\n};\n\n\n/**\n * Creates a Text Node.\n * @param {Document} doc The document with which to create the Element.\n * @return {!Text}\n */\nconst createText = function(doc) {\n  const node = doc.createTextNode('');\n  initData(node, '#text', null);\n  return node;\n};\n\n\n/**\n * Creates a mapping that can be used to look up children using a key.\n * @param {?Node} el\n * @return {!Object<string, !Element>} A mapping of keys to the children of the\n *     Element.\n */\nconst createKeyMap = function(el) {\n  const map = createMap();\n  let child = el.firstElementChild;\n\n  while (child) {\n    const key = getData(child).key;\n\n    if (key) {\n      map[key] = child;\n    }\n\n    child = child.nextElementSibling;\n  }\n\n  return map;\n};\n\n\n/**\n * Retrieves the mapping of key to child node for a given Element, creating it\n * if necessary.\n * @param {?Node} el\n * @return {!Object<string, !Node>} A mapping of keys to child Elements\n */\nconst getKeyMap = function(el) {\n  const data = getData(el);\n\n  if (!data.keyMap) {\n    data.keyMap = createKeyMap(el);\n  }\n\n  return data.keyMap;\n};\n\n\n/**\n * Retrieves a child from the parent with the given key.\n * @param {?Node} parent\n * @param {?string=} key\n * @return {?Node} The child corresponding to the key.\n */\nconst getChild = function(parent, key) {\n  return key ? getKeyMap(parent)[key] : null;\n};\n\n\n/**\n * Registers an element as being a child. The parent will keep track of the\n * child using the key. The child can be retrieved using the same key using\n * getKeyMap. The provided key should be unique within the parent Element.\n * @param {?Node} parent The parent of child.\n * @param {string} key A key to identify the child with.\n * @param {!Node} child The child to register.\n */\nconst registerChild = function(parent, key, child) {\n  getKeyMap(parent)[key] = child;\n};\n\n\n/** */\nexport {\n  createElement,\n  createText,\n  getChild,\n  registerChild\n};\n","/**\n * Copyright 2015 The Incremental DOM Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @const */\nconst notifications = {\n  /**\n   * Called after patch has compleated with any Nodes that have been created\n   * and added to the DOM.\n   * @type {?function(Array<!Node>)}\n   */\n  nodesCreated: null,\n\n  /**\n   * Called after patch has compleated with any Nodes that have been removed\n   * from the DOM.\n   * Note it's an applications responsibility to handle any childNodes.\n   * @type {?function(Array<!Node>)}\n   */\n  nodesDeleted: null\n};\n\nexport {\n  notifications\n};\n","/**\n * Copyright 2015 The Incremental DOM Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { notifications } from './notifications';\n\n\n/**\n * Keeps track of the state of a patch.\n * @constructor\n */\nfunction Context() {\n  /**\n   * @type {(Array<!Node>|undefined)}\n   */\n  this.created = notifications.nodesCreated && [];\n\n  /**\n   * @type {(Array<!Node>|undefined)}\n   */\n  this.deleted = notifications.nodesDeleted && [];\n}\n\n\n/**\n * @param {!Node} node\n */\nContext.prototype.markCreated = function(node) {\n  if (this.created) {\n    this.created.push(node);\n  }\n};\n\n\n/**\n * @param {!Node} node\n */\nContext.prototype.markDeleted = function(node) {\n  if (this.deleted) {\n    this.deleted.push(node);\n  }\n};\n\n\n/**\n * Notifies about nodes that were created during the patch opearation.\n */\nContext.prototype.notifyChanges = function() {\n  if (this.created && this.created.length > 0) {\n    notifications.nodesCreated(this.created);\n  }\n\n  if (this.deleted && this.deleted.length > 0) {\n    notifications.nodesDeleted(this.deleted);\n  }\n};\n\n\n/** */\nexport {\n  Context\n};\n","/**\n * Copyright 2015 The Incremental DOM Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n/**\n  * Keeps track whether or not we are in an attributes declaration (after\n  * elementOpenStart, but before elementOpenEnd).\n  * @type {boolean}\n  */\nlet inAttributes = false;\n\n\n/**\n  * Keeps track whether or not we are in an element that should not have its\n  * children cleared.\n  * @type {boolean}\n  */\nlet inSkip = false;\n\n\n/**\n * Makes sure that there is a current patch context.\n * @param {*} context\n */\nconst assertInPatch = function(context) {\n  if (!context) {\n    throw new Error('Cannot call currentElement() unless in patch.');\n  }\n};\n\n\n/**\n* Makes sure that keyed Element matches the tag name provided.\n* @param {!string} nodeName The nodeName of the node that is being matched.\n* @param {string=} tag The tag name of the Element.\n* @param {?string=} key The key of the Element.\n*/\nconst assertKeyedTagMatches = function(nodeName, tag, key) {\n  if (nodeName !== tag) {\n    throw new Error('Was expecting node with key \"' + key + '\" to be a ' +\n        tag + ', not a ' + nodeName + '.');\n  }\n};\n\n\n/**\n * Makes sure that a patch closes every node that it opened.\n * @param {?Node} openElement\n * @param {!Node|!DocumentFragment} root\n */\nconst assertNoUnclosedTags = function(openElement, root) {\n  if (openElement === root) {\n    return;\n  }\n\n  let currentElement = openElement;\n  const openTags = [];\n  while (currentElement && currentElement !== root) {\n    openTags.push(currentElement.nodeName.toLowerCase());\n    currentElement = currentElement.parentNode;\n  }\n\n  throw new Error('One or more tags were not closed:\\n' +\n      openTags.join('\\n'));\n};\n\n\n/**\n * Makes sure that the caller is not where attributes are expected.\n * @param {string} functionName\n */\nconst assertNotInAttributes = function(functionName) {\n  if (inAttributes) {\n    throw new Error(functionName + '() can not be called between ' +\n        'elementOpenStart() and elementOpenEnd().');\n  }\n};\n\n\n/**\n * Makes sure that the caller is not inside an element that has declared skip.\n * @param {string} functionName\n */\nconst assertNotInSkip = function(functionName) {\n  if (inSkip) {\n    throw new Error(functionName + '() may not be called inside an element ' +\n        'that has called skip().');\n  }\n};\n\n\n/**\n * Makes sure that the caller is where attributes are expected.\n * @param {string} functionName\n */\nconst assertInAttributes = function(functionName) {\n  if (!inAttributes) {\n    throw new Error(functionName + '() can only be called after calling ' +\n        'elementOpenStart().');\n  }\n};\n\n\n/**\n * Makes sure the patch closes virtual attributes call\n */\nconst assertVirtualAttributesClosed = function() {\n  if (inAttributes) {\n    throw new Error('elementOpenEnd() must be called after calling ' +\n        'elementOpenStart().');\n  }\n};\n\n\n/**\n  * Makes sure that placeholders have a key specified. Otherwise, conditional\n  * placeholders and conditional elements next to placeholders will cause\n  * placeholder elements to be re-used as non-placeholders and vice versa.\n  * @param {string} key\n  */\nconst assertPlaceholderKeySpecified = function(key) {\n  if (!key) {\n    throw new Error('elementPlaceholder() requires a key.');\n  }\n};\n\n\n/**\n  * Makes sure that tags are correctly nested.\n  * @param {string} nodeName\n  * @param {string} tag\n  */\nconst assertCloseMatchesOpenTag = function(nodeName, tag) {\n  if (nodeName !== tag) {\n    throw new Error('Received a call to close \"' + tag + '\" but \"' +\n        nodeName + '\" was open.');\n  }\n};\n\n\n/**\n * Makes sure that no children elements have been declared yet in the current\n * element.\n * @param {string} functionName\n * @param {?Node} previousNode\n */\nconst assertNoChildrenDeclaredYet = function(functionName, previousNode) {\n  if (previousNode !== null) {\n    throw new Error(functionName + '() must come before any child ' +\n        'declarations inside the current element.');\n  }\n};\n\n\n/**\n * Checks that a call to patchOuter actually patched the element.\n * @param {?Node} node The node requested to be patched.\n * @param {?Node} currentNode The currentNode after the patch.\n */\nconst assertPatchElementNotEmpty = function(node, currentNode) {\n  if (node === currentNode) {\n    throw new Error('There must be exactly one top level call corresponding ' +\n        'to the patched element.');\n  }\n};\n\n\n/**\n * Checks that a call to patchOuter actually patched the element.\n * @param {?Node} node The node requested to be patched.\n * @param {?Node} previousNode The previousNode after the patch.\n */\nconst assertPatchElementNoExtras = function(node, previousNode) {\n  if (node !== previousNode) {\n    throw new Error('There must be exactly one top level call corresponding ' +\n        'to the patched element.');\n  }\n};\n\n\n/**\n * Updates the state of being in an attribute declaration.\n * @param {boolean} value\n * @return {boolean} the previous value.\n */\nconst setInAttributes = function(value) {\n  const previous = inAttributes;\n  inAttributes = value;\n  return previous;\n};\n\n\n/**\n * Updates the state of being in a skip element.\n * @param {boolean} value\n * @return {boolean} the previous value.\n */\nconst setInSkip = function(value) {\n  const previous = inSkip;\n  inSkip = value;\n  return previous;\n};\n\n\n/** */\nexport {\n  assertInPatch,\n  assertKeyedTagMatches,\n  assertNoUnclosedTags,\n  assertNotInAttributes,\n  assertInAttributes,\n  assertPlaceholderKeySpecified,\n  assertCloseMatchesOpenTag,\n  assertVirtualAttributesClosed,\n  assertNoChildrenDeclaredYet,\n  assertNotInSkip,\n  assertPatchElementNotEmpty,\n  assertPatchElementNoExtras,\n  setInAttributes,\n  setInSkip\n};\n","/**\n * Copyright 2015 The Incremental DOM Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  createElement,\n  createText,\n  getChild,\n  registerChild\n} from './nodes';\nimport { getData } from './node_data';\nimport { Context } from './context';\nimport { symbols } from './symbols';\nimport {\n  assertInPatch,\n  assertKeyedTagMatches,\n  assertNoUnclosedTags,\n  assertNotInAttributes,\n  assertVirtualAttributesClosed,\n  assertNoChildrenDeclaredYet,\n  assertPatchElementNotEmpty,\n  assertPatchElementNoExtras,\n  setInAttributes,\n  setInSkip\n} from './assertions';\nimport { notifications } from './notifications';\n\n\n/** @type {?Context} */\nlet context = null;\n\n/** @type {?Node} */\nlet currentNode;\n\n/** @type {?Node} */\nlet currentParent;\n\n/** @type {?Element|?DocumentFragment} */\nlet root;\n\n/** @type {?Document} */\nlet doc;\n\n\n/**\n * Sets up and restores a patch context, running the patch function with the\n * provided data.\n * @param {!Element|!DocumentFragment} node The Element or Document\n *     where the patch should start.\n * @param {!function(T)} fn The patching function.\n * @param {T=} data An argument passed to fn.\n * @template T\n */\nconst runPatch = function(node, fn, data) {\n  const prevContext = context;\n  const prevRoot = root;\n  const prevDoc = doc;\n  const prevCurrentNode = currentNode;\n  const prevCurrentParent = currentParent;\n  let previousInAttributes = false;\n  let previousInSkip = false;\n\n  context = new Context();\n  root = node;\n  doc = node.ownerDocument;\n\n  if (process.env.NODE_ENV !== 'production') {\n    previousInAttributes = setInAttributes(false);\n    previousInSkip = setInSkip(false);\n  }\n\n  fn(data);\n\n  if (process.env.NODE_ENV !== 'production') {\n    assertVirtualAttributesClosed();\n    setInAttributes(previousInAttributes);\n    setInSkip(previousInSkip);\n  }\n\n  context.notifyChanges();\n\n  context = prevContext;\n  root = prevRoot;\n  doc = prevDoc;\n  currentNode = prevCurrentNode;\n  currentParent = prevCurrentParent;\n};\n\n\n/**\n * Patches the document starting at node with the provided function. This\n * function may be called during an existing patch operation.\n * @param {!Element|!DocumentFragment} node The Element or Document\n *     to patch.\n * @param {!function(T)} fn A function containing elementOpen/elementClose/etc.\n *     calls that describe the DOM.\n * @param {T=} data An argument passed to fn to represent DOM state.\n * @template T\n */\nconst patchInner = function(node, fn, data) {\n  runPatch(node, function(data) {\n    currentNode = node;\n    currentParent = node.parentNode;\n\n    enterNode();\n    fn(data);\n    exitNode();\n\n    if (process.env.NODE_ENV !== 'production') {\n      assertNoUnclosedTags(currentNode, node);\n    }\n  }, data);\n};\n\n\n/**\n * Patches an Element with the the provided function. Exactly one top level\n * element call should be made corresponding to `node`.\n * @param {!Element} node The Element where the patch should start.\n * @param {!function(T)} fn A function containing elementOpen/elementClose/etc.\n *     calls that describe the DOM. This should have at most one top level\n *     element call.\n * @param {T=} data An argument passed to fn to represent DOM state.\n * @template T\n */\nconst patchOuter = function(node, fn, data) {\n  runPatch(node, function(data) {\n    currentNode = /** @type {!Element} */({ nextSibling: node });\n    currentParent = node.parentNode;\n\n    fn(data);\n\n    if (process.env.NODE_ENV !== 'production') {\n      assertPatchElementNotEmpty(node, currentNode.nextSibling);\n      assertPatchElementNoExtras(node, currentNode);\n    }\n  }, data);\n};\n\n\n/**\n * Checks whether or not the current node matches the specified nodeName and\n * key.\n *\n * @param {?string} nodeName The nodeName for this node.\n * @param {?string=} key An optional key that identifies a node.\n * @return {boolean} True if the node matches, false otherwise.\n */\nconst matches = function(nodeName, key) {\n  const data = getData(currentNode);\n\n  // Key check is done using double equals as we want to treat a null key the\n  // same as undefined. This should be okay as the only values allowed are\n  // strings, null and undefined so the == semantics are not too weird.\n  return nodeName === data.nodeName && key == data.key;\n};\n\n\n/**\n * Aligns the virtual Element definition with the actual DOM, moving the\n * corresponding DOM node to the correct location or creating it if necessary.\n * @param {string} nodeName For an Element, this should be a valid tag string.\n *     For a Text, this should be #text.\n * @param {?string=} key The key used to identify this element.\n * @param {?Array<*>=} statics For an Element, this should be an array of\n *     name-value pairs.\n */\nconst alignWithDOM = function(nodeName, key, statics) {\n  if (currentNode && matches(nodeName, key)) {\n    return;\n  }\n\n  let node;\n\n  // Check to see if the node has moved within the parent.\n  if (key) {\n    node = getChild(currentParent, key);\n    if (node && process.env.NODE_ENV !== 'production') {\n      assertKeyedTagMatches(getData(node).nodeName, nodeName, key);\n    }\n  }\n\n  // Create the node if it doesn't exist.\n  if (!node) {\n    if (nodeName === '#text') {\n      node = createText(doc);\n    } else {\n      node = createElement(doc, currentParent, nodeName, key, statics);\n    }\n\n    if (key) {\n      registerChild(currentParent, key, node);\n    }\n\n    context.markCreated(node);\n  }\n\n  // If the node has a key, remove it from the DOM to prevent a large number\n  // of re-orders in the case that it moved far or was completely removed.\n  // Since we hold on to a reference through the keyMap, we can always add it\n  // back.\n  if (currentNode && getData(currentNode).key) {\n    currentParent.replaceChild(node, currentNode);\n    getData(currentParent).keyMapValid = false;\n  } else {\n    currentParent.insertBefore(node, currentNode);\n  }\n\n  currentNode = node;\n};\n\n\n/**\n * Clears out any unvisited Nodes, as the corresponding virtual element\n * functions were never called for them.\n */\nconst clearUnvisitedDOM = function() {\n  const node = currentParent;\n  const data = getData(node);\n  const keyMap = data.keyMap;\n  const keyMapValid = data.keyMapValid;\n  let child = node.lastChild;\n  let key;\n\n  if (child === currentNode && keyMapValid) {\n    return;\n  }\n\n  if (data.attrs[symbols.placeholder] && node !== root) {\n    if (process.env.NODE_ENV !== 'production') {\n      console.warn('symbols.placeholder will be removed in Incremental DOM' +\n          ' 0.5 use skip() instead');\n    }\n    return;\n  }\n\n  while (child !== currentNode) {\n    node.removeChild(child);\n    context.markDeleted(/** @type {!Node}*/(child));\n\n    key = getData(child).key;\n    if (key) {\n      delete keyMap[key];\n    }\n    child = node.lastChild;\n  }\n\n  // Clean the keyMap, removing any unusued keys.\n  if (!keyMapValid) {\n    for (key in keyMap) {\n      child = keyMap[key];\n      if (child.parentNode !== node) {\n        context.markDeleted(child);\n        delete keyMap[key];\n      }\n    }\n\n    data.keyMapValid = true;\n  }\n};\n\n\n/**\n * Changes to the first child of the current node.\n */\nconst enterNode = function() {\n  currentParent = currentNode;\n  currentNode = null;\n};\n\n\n/**\n * Changes to the next sibling of the current node.\n */\nconst nextNode = function() {\n  if (currentNode) {\n    currentNode = currentNode.nextSibling;\n  } else {\n    currentNode = currentParent.firstChild;\n  }\n};\n\n\n/**\n * Changes to the parent of the current node, removing any unvisited children.\n */\nconst exitNode = function() {\n  clearUnvisitedDOM();\n\n  currentNode = currentParent;\n  currentParent = currentParent.parentNode;\n};\n\n\n/**\n * Makes sure that the current node is an Element with a matching tagName and\n * key.\n *\n * @param {string} tag The element's tag.\n * @param {?string=} key The key used to identify this element. This can be an\n *     empty string, but performance may be better if a unique value is used\n *     when iterating over an array of items.\n * @param {?Array<*>=} statics An array of attribute name/value pairs of the\n *     static attributes for the Element. These will only be set once when the\n *     Element is created.\n * @return {!Element} The corresponding Element.\n */\nconst elementOpen = function(tag, key, statics) {\n  nextNode();\n  alignWithDOM(tag, key, statics);\n  enterNode();\n  return /** @type {!Element} */(currentParent);\n};\n\n\n/**\n * Closes the currently open Element, removing any unvisited children if\n * necessary.\n *\n * @return {!Element} The corresponding Element.\n */\nconst elementClose = function() {\n  if (process.env.NODE_ENV !== 'production') {\n    setInSkip(false);\n  }\n\n  exitNode();\n  return /** @type {!Element} */(currentNode);\n};\n\n\n/**\n * Makes sure the current node is a Text node and creates a Text node if it is\n * not.\n *\n * @return {!Text} The corresponding Text Node.\n */\nconst text = function() {\n  nextNode();\n  alignWithDOM('#text', null, null);\n  return /** @type {!Text} */(currentNode);\n};\n\n\n/**\n * Gets the current Element being patched.\n * @return {!Element}\n */\nconst currentElement = function() {\n  if (process.env.NODE_ENV !== 'production') {\n    assertInPatch(context);\n    assertNotInAttributes('currentElement');\n  }\n  return /** @type {!Element} */(currentParent);\n};\n\n\n/**\n * Skips the children in a subtree, allowing an Element to be closed without\n * clearing out the children.\n */\nconst skip = function() {\n  if (process.env.NODE_ENV !== 'production') {\n    assertNoChildrenDeclaredYet('skip', currentNode);\n    setInSkip(true);\n  }\n  currentNode = currentParent.lastChild;\n};\n\n\n/** */\nexport {\n  elementOpen,\n  elementClose,\n  text,\n  patchInner,\n  patchOuter,\n  currentElement,\n  skip\n};\n","/**\n * Copyright 2015 The Incremental DOM Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  elementOpen as coreElementOpen,\n  elementClose as coreElementClose,\n  text as coreText,\n  currentElement,\n  skip\n} from './core';\nimport { updateAttribute } from './attributes';\nimport { getData } from './node_data';\nimport { symbols } from './symbols';\nimport {\n  assertNotInAttributes,\n  assertNotInSkip,\n  assertInAttributes,\n  assertPlaceholderKeySpecified,\n  assertCloseMatchesOpenTag,\n  setInAttributes\n} from './assertions';\n\n\n/**\n * The offset in the virtual element declaration where the attributes are\n * specified.\n * @const\n */\nconst ATTRIBUTES_OFFSET = 3;\n\n\n/**\n * Builds an array of arguments for use with elementOpenStart, attr and\n * elementOpenEnd.\n * @const {Array<*>}\n */\nconst argsBuilder = [];\n\n\n/**\n * @param {string} tag The element's tag.\n * @param {?string=} key The key used to identify this element. This can be an\n *     empty string, but performance may be better if a unique value is used\n *     when iterating over an array of items.\n * @param {?Array<*>=} statics An array of attribute name/value pairs of the\n *     static attributes for the Element. These will only be set once when the\n *     Element is created.\n * @param {...*} const_args Attribute name/value pairs of the dynamic attributes\n *     for the Element.\n * @return {!Element} The corresponding Element.\n */\nconst elementOpen = function(tag, key, statics, const_args) {\n  if (process.env.NODE_ENV !== 'production') {\n    assertNotInAttributes('elementOpen');\n    assertNotInSkip('elementOpen');\n  }\n\n  const node = coreElementOpen(tag, key, statics);\n  const data = getData(node);\n\n  /*\n   * Checks to see if one or more attributes have changed for a given Element.\n   * When no attributes have changed, this is much faster than checking each\n   * individual argument. When attributes have changed, the overhead of this is\n   * minimal.\n   */\n  const attrsArr = data.attrsArr;\n  const newAttrs = data.newAttrs;\n  let attrsChanged = false;\n  let i = ATTRIBUTES_OFFSET;\n  let j = 0;\n\n  for (; i < arguments.length; i += 1, j += 1) {\n    if (attrsArr[j] !== arguments[i]) {\n      attrsChanged = true;\n      break;\n    }\n  }\n\n  for (; i < arguments.length; i += 1, j += 1) {\n    attrsArr[j] = arguments[i];\n  }\n\n  if (j < attrsArr.length) {\n    attrsChanged = true;\n    attrsArr.length = j;\n  }\n\n  /*\n   * Actually perform the attribute update.\n   */\n  if (attrsChanged) {\n    for (i = ATTRIBUTES_OFFSET; i < arguments.length; i += 2) {\n      newAttrs[arguments[i]] = arguments[i + 1];\n    }\n\n    for (const attr in newAttrs) {\n      updateAttribute(node, attr, newAttrs[attr]);\n      newAttrs[attr] = undefined;\n    }\n  }\n\n  return node;\n};\n\n\n/**\n * Declares a virtual Element at the current location in the document. This\n * corresponds to an opening tag and a elementClose tag is required. This is\n * like elementOpen, but the attributes are defined using the attr function\n * rather than being passed as arguments. Must be folllowed by 0 or more calls\n * to attr, then a call to elementOpenEnd.\n * @param {string} tag The element's tag.\n * @param {?string=} key The key used to identify this element. This can be an\n *     empty string, but performance may be better if a unique value is used\n *     when iterating over an array of items.\n * @param {?Array<*>=} statics An array of attribute name/value pairs of the\n *     static attributes for the Element. These will only be set once when the\n *     Element is created.\n */\nconst elementOpenStart = function(tag, key, statics) {\n  if (process.env.NODE_ENV !== 'production') {\n    assertNotInAttributes('elementOpenStart');\n    setInAttributes(true);\n  }\n\n  argsBuilder[0] = tag;\n  argsBuilder[1] = key;\n  argsBuilder[2] = statics;\n};\n\n\n/***\n * Defines a virtual attribute at this point of the DOM. This is only valid\n * when called between elementOpenStart and elementOpenEnd.\n *\n * @param {string} name\n * @param {*} value\n */\nconst attr = function(name, value) {\n  if (process.env.NODE_ENV !== 'production') {\n    assertInAttributes('attr');\n  }\n\n  argsBuilder.push(name, value);\n};\n\n\n/**\n * Closes an open tag started with elementOpenStart.\n * @return {!Element} The corresponding Element.\n */\nconst elementOpenEnd = function() {\n  if (process.env.NODE_ENV !== 'production') {\n    assertInAttributes('elementOpenEnd');\n    setInAttributes(false);\n  }\n\n  const node = elementOpen.apply(null, argsBuilder);\n  argsBuilder.length = 0;\n  return node;\n};\n\n\n/**\n * Closes an open virtual Element.\n *\n * @param {string} tag The element's tag.\n * @return {!Element} The corresponding Element.\n */\nconst elementClose = function(tag) {\n  if (process.env.NODE_ENV !== 'production') {\n    assertNotInAttributes('elementClose');\n  }\n\n  const node = coreElementClose();\n\n  if (process.env.NODE_ENV !== 'production') {\n    assertCloseMatchesOpenTag(getData(node).nodeName, tag);\n  }\n\n  return node;\n};\n\n\n/**\n * Declares a virtual Element at the current location in the document that has\n * no children.\n * @param {string} tag The element's tag.\n * @param {?string=} key The key used to identify this element. This can be an\n *     empty string, but performance may be better if a unique value is used\n *     when iterating over an array of items.\n * @param {?Array<*>=} statics An array of attribute name/value pairs of the\n *     static attributes for the Element. These will only be set once when the\n *     Element is created.\n * @param {...*} const_args Attribute name/value pairs of the dynamic attributes\n *     for the Element.\n * @return {!Element} The corresponding Element.\n */\nconst elementVoid = function(tag, key, statics, const_args) {\n  const node = elementOpen.apply(null, arguments);\n  elementClose.apply(null, arguments);\n  return node;\n};\n\n\n/**\n * Declares a virtual Element at the current location in the document that is a\n * placeholder element. Children of this Element can be manually managed and\n * will not be cleared by the library.\n *\n * A key must be specified to make sure that this node is correctly preserved\n * across all conditionals.\n *\n * @param {string} tag The element's tag.\n * @param {string} key The key used to identify this element.\n * @param {?Array<*>=} statics An array of attribute name/value pairs of the\n *     static attributes for the Element. These will only be set once when the\n *     Element is created.\n * @param {...*} const_args Attribute name/value pairs of the dynamic attributes\n *     for the Element.\n * @return {!Element} The corresponding Element.\n */\nconst elementPlaceholder = function(tag, key, statics, const_args) {\n  if (process.env.NODE_ENV !== 'production') {\n    assertPlaceholderKeySpecified(key);\n    console.warn('elementPlaceholder will be removed in Incremental DOM 0.5' +\n        ' use skip() instead');\n  }\n\n  elementOpen.apply(null, arguments);\n  skip();\n  return elementClose.apply(null, arguments);\n};\n\n\n/**\n * Declares a virtual Text at this point in the document.\n *\n * @param {string|number|boolean} value The value of the Text.\n * @param {...(function((string|number|boolean)):string)} const_args\n *     Functions to format the value which are called only when the value has\n *     changed.\n * @return {!Text} The corresponding text node.\n */\nconst text = function(value, const_args) {\n  if (process.env.NODE_ENV !== 'production') {\n    assertNotInAttributes('text');\n    assertNotInSkip('text');\n  }\n\n  const node = coreText();\n  const data = getData(node);\n\n  if (data.text !== value) {\n    data.text = /** @type {string} */(value);\n\n    let formatted = value;\n    for (let i = 1; i < arguments.length; i += 1) {\n      /*\n       * Call the formatter function directly to prevent leaking arguments.\n       * https://github.com/google/incremental-dom/pull/204#issuecomment-178223574\n       */\n      const fn = arguments[i];\n      formatted = fn(formatted);\n    }\n\n    node.data = formatted;\n  }\n\n  return node;\n};\n\n\n/** */\nexport {\n  elementOpenStart,\n  elementOpenEnd,\n  elementOpen,\n  elementVoid,\n  elementClose,\n  elementPlaceholder,\n  text,\n  attr\n};\n","/**\n * Copyright 2015 The Incremental DOM Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport {\n  patchInner as patch,\n  patchInner,\n  patchOuter,\n  currentElement,\n  skip\n} from './src/core';\nexport {\n  elementVoid,\n  elementOpenStart,\n  elementOpenEnd,\n  elementOpen,\n  elementClose,\n  elementPlaceholder,\n  text,\n  attr\n} from './src/virtual_elements';\nexport { symbols } from './src/symbols';\nexport {\n  attributes,\n  applyAttr,\n  applyProp\n} from './src/attributes';\nexport { notifications } from './src/notifications';\n","export const classes = !!Object.setPrototypeOf;\nexport const customElementsV0 = 'registerElement' in document;\nexport const customElementsV1 = 'customElements' in window;\nexport const shadowDomV0 = 'createShadowRoot' in Element.prototype;\nexport const shadowDomV1 = 'attachShadow' in Element.prototype;\n","import * as IncrementalDOM from 'incremental-dom';\nimport * as skateSymbols from './symbols';\nimport { shadowDomV0, shadowDomV1 } from '../util/support';\n\n// Could import these, but we have to import all of IncrementalDOM anyways so\n// that we can export our configured IncrementalDOM.\nconst {\n  applyProp,\n  attr,\n  attributes,\n  elementClose,\n  elementOpen,\n  elementOpenEnd,\n  elementOpenStart,\n  skip,\n  symbols,\n  text\n} = IncrementalDOM;\n\n// Specify an environment for iDOM in case we haven't yet.\nif (typeof process === 'undefined') {\n  /* eslint no-undef: 0 */\n  process = { env: { NODE_ENV: 'production' } };\n}\n\nconst applyDefault = attributes[symbols.default];\nconst factories = {};\n\n// Attributes that are not handled by Incremental DOM.\nattributes.key = attributes.skip = attributes.statics = function () {};\n\n// Attributes that *must* be set via a property on all elements.\nattributes.checked = attributes.className = attributes.disabled = attributes.value = applyProp;\n\n// Default attribute applicator.\nattributes[symbols.default] = function (elem, name, value) {\n  // Boolean false values should not set attributes at all.\n  if (value === false) {\n    return;\n  }\n\n  // Custom element properties should be set as properties.\n  const props = elem.constructor.props;\n  if (props && name in props) {\n    return applyProp(elem, name, value);\n  }\n\n  // Handle built-in and custom events.\n  if (name.indexOf('on') === 0) {\n    return name in elem ? applyProp(elem, name, value) : applyEvent(elem, name.substring(2), name, value);\n  }\n\n  // Fallback to default IncrementalDOM behaviour.\n  applyDefault(elem, name, value);\n};\n\n// Adds or removes an event listener for an element.\nfunction applyEvent (elem, ename, name, value) {\n  let events = elem.__events;\n\n  if (!events) {\n    events = elem.__events = {};\n  }\n\n  const eFunc = events[ename];\n\n  // Remove old listener so they don't double up.\n  if (eFunc) {\n    elem.removeEventListener(ename, eFunc);\n  }\n\n  // Bind new listener.\n  if (value) {\n    elem.addEventListener(ename, events[ename] = function (e) {\n      if (this === e.target) {\n        value.call(this, e);\n      }\n    });\n  }\n}\n\n// Creates a factory and returns it.\nfunction bind (tname) {\n  const shouldBeContentTag = tname === 'slot' && !shadowDomV1 && shadowDomV0;\n\n  // Abstract Shadow DOM V0 <content> behind Shadow DOM V1 <slot>.\n  if (shouldBeContentTag) {\n    tname = 'content';\n  }\n\n  return factories[tname] = function (attrs, chren) {\n    if (attrs && typeof attrs === 'object') {\n      // Abstract Shadow DOM V0 <content> behind Shadow DOM V1 <slot>.\n      if (shouldBeContentTag && attrs.name) {\n        attrs.select = `[slot=\"${attrs.name}\"]`;\n        delete attrs.slot;\n      }\n\n      elementOpenStart(tname, attrs.key, attrs.statics);\n      for (let a in attrs) {\n        attr(a, attrs[a]);\n      }\n      elementOpenEnd();\n    } else {\n      elementOpen(tname);\n      chren = attrs;\n      attrs = {};\n    }\n\n    if (attrs.skip) {\n      skip();\n    } else {\n      const chrenType = typeof chren;\n      if (chrenType === 'function') {\n        chren();\n      } else if (chrenType === 'string' || chrenType === 'number') {\n        text(chren);\n      }\n    }\n\n    return elementClose(tname);\n  };\n}\n\n// The default function requries a tag name.\nexport function create (tname, attrs, chren) {\n  // Allow a component constructor to be passed in.\n  if (typeof tname === 'function') {\n    tname = tname[skateSymbols.name];\n  }\n  // Return the cached factory or create a new one and return it.\n  return (factories[tname] || bind(tname))(attrs, chren);\n}\n\n// Export the Incremental DOM text() function directly as we don't need to do\n// any special processing for it.\nexport { text };\n\n// We export IncrementalDOM in its entirety because we want the user to be able\n// to user our configured version while still being able to use various other\n// templating languages and techniques that compile down to it.\nexport { IncrementalDOM };\n\n// Create factories for all HTML elements except for ones that match keywords\n// such as \"var\".\nexport const a = bind('a');\nexport const abbr = bind('abbr');\nexport const address = bind('address');\nexport const area = bind('area');\nexport const article = bind('article');\nexport const aside = bind('aside');\nexport const audio = bind('audio');\nexport const b = bind('b');\nexport const base = bind('base');\nexport const bdi = bind('bdi');\nexport const bdo = bind('bdo');\nexport const bgsound = bind('bgsound');\nexport const blockquote = bind('blockquote');\nexport const body = bind('body');\nexport const br = bind('br');\nexport const button = bind('button');\nexport const canvas = bind('canvas');\nexport const caption = bind('caption');\nexport const cite = bind('cite');\nexport const code = bind('code');\nexport const col = bind('col');\nexport const colgroup = bind('colgroup');\nexport const command = bind('command');\nexport const content = bind('content');\nexport const data = bind('data');\nexport const datalist = bind('datalist');\nexport const dd = bind('dd');\nexport const del = bind('del');\nexport const details = bind('details');\nexport const dfn = bind('dfn');\nexport const dialog = bind('dialog');\nexport const div = bind('div');\nexport const dl = bind('dl');\nexport const dt = bind('dt');\nexport const element = bind('element');\nexport const em = bind('em');\nexport const embed = bind('embed');\nexport const fieldset = bind('fieldset');\nexport const figcaption = bind('figcaption');\nexport const figure = bind('figure');\nexport const font = bind('font');\nexport const footer = bind('footer');\nexport const form = bind('form');\nexport const h1 = bind('h1');\nexport const h2 = bind('h2');\nexport const h3 = bind('h3');\nexport const h4 = bind('h4');\nexport const h5 = bind('h5');\nexport const h6 = bind('h6');\nexport const head = bind('head');\nexport const header = bind('header');\nexport const hgroup = bind('hgroup');\nexport const hr = bind('hr');\nexport const html = bind('html');\nexport const i = bind('i');\nexport const iframe = bind('iframe');\nexport const image = bind('image');\nexport const img = bind('img');\nexport const input = bind('input');\nexport const ins = bind('ins');\nexport const kbd = bind('kbd');\nexport const keygen = bind('keygen');\nexport const label = bind('label');\nexport const legend = bind('legend');\nexport const li = bind('li');\nexport const link = bind('link');\nexport const main = bind('main');\nexport const map = bind('map');\nexport const mark = bind('mark');\nexport const marquee = bind('marquee');\nexport const menu = bind('menu');\nexport const menuitem = bind('menuitem');\nexport const meta = bind('meta');\nexport const meter = bind('meter');\nexport const multicol = bind('multicol');\nexport const nav = bind('nav');\nexport const nobr = bind('nobr');\nexport const noembed = bind('noembed');\nexport const noframes = bind('noframes');\nexport const noscript = bind('noscript');\nexport const object = bind('object');\nexport const ol = bind('ol');\nexport const optgroup = bind('optgroup');\nexport const option = bind('option');\nexport const output = bind('output');\nexport const p = bind('p');\nexport const param = bind('param');\nexport const picture = bind('picture');\nexport const pre = bind('pre');\nexport const progress = bind('progress');\nexport const q = bind('q');\nexport const rp = bind('rp');\nexport const rt = bind('rt');\nexport const rtc = bind('rtc');\nexport const ruby = bind('ruby');\nexport const s = bind('s');\nexport const samp = bind('samp');\nexport const script = bind('script');\nexport const section = bind('section');\nexport const select = bind('select');\nexport const shadow = bind('shadow');\nexport const slot = bind('slot');\nexport const small = bind('small');\nexport const source = bind('source');\nexport const span = bind('span');\nexport const strong = bind('strong');\nexport const style = bind('style');\nexport const sub = bind('sub');\nexport const summary = bind('summary');\nexport const sup = bind('sup');\nexport const table = bind('table');\nexport const tbody = bind('tbody');\nexport const td = bind('td');\nexport const template = bind('template');\nexport const textarea = bind('textarea');\nexport const tfoot = bind('tfoot');\nexport const th = bind('th');\nexport const thead = bind('thead');\nexport const time = bind('time');\nexport const title = bind('title');\nexport const tr = bind('tr');\nexport const track = bind('track');\nexport const u = bind('u');\nexport const ul = bind('ul');\nexport const video = bind('video');\nexport const wbr = bind('wbr');\n","export default function (element, namespace = '') {\n  var data = element.__SKATE_DATA || (element.__SKATE_DATA = {});\n  return namespace && (data[namespace] || (data[namespace] = {})) || data;\n}\n","import data from '../util/data';\n\nexport default function (Ctor) {\n  const { attributeChanged } = Ctor;\n\n  return function (name, oldValue, newValue) {\n    const propertyName = data(this, 'attributeLinks')[name];\n\n    if (propertyName) {\n      const propData = data(this, `api/property/${propertyName}`);\n\n      // This ensures a property set doesn't cause the attribute changed\n      // handler to run again once we set this flag. This only ever has a\n      // chance to run when you set an attribute, it then sets a property and\n      // then that causes the attribute to be set again.\n      if (propData.syncingAttribute) {\n        propData.syncingAttribute = false;\n        return;\n      }\n\n      // Sync up the property.\n      const propOpts = this.constructor.props[propertyName];\n      propData.settingAttribute = true;\n      this[propertyName] = newValue !== null && propOpts.deserialize ? propOpts.deserialize(newValue) : newValue;\n    }\n\n    if (attributeChanged) {\n      attributeChanged(this, { name, newValue, oldValue });\n    }\n  };\n}\n","export default function (obj) {\n  return Object.getOwnPropertyNames(obj || {}).reduce(function (prev, curr) {\n    prev[curr] = Object.getOwnPropertyDescriptor(obj, curr);\n    return prev;\n  }, {});\n}","import * as symbols from './symbols';\nimport assign from 'object-assign';\nimport data from '../util/data';\nimport getOwnPropertyDescriptors from '../util/get-own-property-descriptors';\nimport { classes } from '../util/support';\n\nfunction init (elem) {\n  const elemData = data(elem);\n  const readyCallbacks = elemData.readyCallbacks;\n  const Ctor = elem.constructor;\n  const { definedAttribute, events, created, props, ready, renderedAttribute } = Ctor;\n  const renderer = Ctor[symbols.renderer];\n\n  // TODO: This prevents an element from being initialised multiple times. For\n  // some reason this is happening with the V1 polyfill. We should try and\n  // figure out why.\n  if (elem.____created) return;\n  elem.____created = true;\n\n  if (props) {\n    Ctor[symbols.props](elem);\n  }\n\n  if (events) {\n    Ctor[symbols.events](elem);\n  }\n\n  if (created) {\n    created(elem);\n  }\n\n  if (renderer && !elem.hasAttribute(renderedAttribute)) {\n    renderer(elem);\n  }\n\n  if (ready) {\n    ready(elem);\n  }\n\n  if (!elem.hasAttribute(definedAttribute)) {\n    elem.setAttribute(definedAttribute, '');\n  }\n\n  if (readyCallbacks) {\n    readyCallbacks.forEach(cb => cb(elem));\n    delete elemData.readyCallbacks;\n  }\n}\n\nexport default class Component extends HTMLElement {\n  constructor () {\n    super();\n    init(this);\n  }\n\n  static get definedAttribute () {\n    return 'defined';\n  }\n\n  static get events () {\n    return {};\n  }\n\n  static get observedAttributes () {\n    return [];\n  }\n\n  static get props () {\n    return {};\n  }\n\n  static get renderedAttribute () {\n    return 'rendered';\n  }\n\n  static create (definition = {}) {\n    function Ctor () {\n      const elem = HTMLElement.call(this);\n      init(elem);\n      return elem;\n    }\n\n    // Merge both the static options from Component and override with user-defined ones.\n    const opts = assign(getOwnPropertyDescriptors(this), getOwnPropertyDescriptors(definition));\n\n    // Merge both the user-defined prototype but ensure \"constructor\" is correctly set to Ctor.\n    const prot = assign(getOwnPropertyDescriptors(definition.prototype), getOwnPropertyDescriptors(Ctor.prototype));\n\n    // Prototype is non configurable (but is writable).\n    delete opts.prototype;\n\n    // Pass on static members.\n    // We can't just call Object.defineProperties() because WebKit has a lot of\n    // non-configurable properties which we must filter out. These won't be any\n    // we need anyways.\n    for (let name in opts) {\n      const prop = opts[name];\n      if (prop.configurable) {\n        Object.defineProperty(Ctor, name, opts[name]);\n      }\n    }\n\n    // Setup with the correct prototype.\n    Ctor.prototype = Object.create(HTMLElement.prototype, prot);\n\n    // Provide a setter for __proto__ as this is what the v1 polyfill uses to\n    // set the prototype. This may not be necessary if attributeChangedCallback\n    // is fired for existing attributes in a micro / macro task instead of\n    // synchronously as it is now.\n    if (!classes) {\n      Object.defineProperty(Element.prototype, '__proto__', {\n        configurable: true,\n        enumerable: false,\n        get () {\n          return this.constructor.prototype;\n        },\n        set (prototype) {\n          const prot = getOwnPropertyDescriptors(prototype);\n          for (let name in prot) {\n            Object.defineProperty(this, name, prot[name]);\n          }\n        }\n      });\n    }\n\n    return Ctor;\n  }\n}\n","const elProto = window.HTMLElement.prototype;\nconst nativeMatchesSelector = (\n  elProto.matches ||\n  elProto.msMatchesSelector ||\n  elProto.webkitMatchesSelector ||\n  elProto.mozMatchesSelector ||\n  elProto.oMatchesSelector\n);\n\n// Only IE9 has this msMatchesSelector bug, but best to detect it.\nconst hasNativeMatchesSelectorDetattachedBug = !nativeMatchesSelector.call(document.createElement('div'), 'div');\n\nexport default function (element, selector) {\n  if (hasNativeMatchesSelectorDetattachedBug) {\n    const clone = element.cloneNode();\n    document.createElement('div').appendChild(clone);\n    return nativeMatchesSelector.call(clone, selector);\n  }\n  return nativeMatchesSelector.call(element, selector);\n}\n","import matches from '../util/matches-selector';\n\nfunction readonly (obj, prop, val) {\n  Object.defineProperty(obj, prop, {\n    configurable: true,\n    get () {\n      return val;\n    }\n  });\n}\n\nfunction parseEvent (e) {\n  const indexOfSpace = e.indexOf(' ');\n  const hasSpace = indexOfSpace > 0;\n  const name = hasSpace ? e.substring(0, indexOfSpace) : e;\n  const selector = hasSpace ? e.substring(indexOfSpace + 1) : '';\n  return {\n    name: name,\n    selector: selector\n  };\n}\n\nfunction makeDelegateHandler (elem, handler, parsed) {\n  return function (e) {\n    let current = e.path ? e.path[0] : e.target;\n    const selector = parsed.selector;\n    while (current && current !== elem.parentNode) {\n      if (matches(current, selector)) {\n        readonly(e, 'currentTarget', current);\n        readonly(e, 'delegateTarget', elem);\n        return handler(elem, e);\n      }\n      current = current.parentNode;\n    }\n  };\n}\n\nfunction makeNormalHandler (elem, handler) {\n  return function (e) {\n    readonly(e, 'delegateTarget', elem);\n    handler(elem, e);\n  };\n}\n\nfunction bindEvent (elem, event, handler) {\n  const parsed = parseEvent(event);\n  const { name, selector } = parsed;\n  const capture = selector && (name === 'blur' || name === 'focus');\n  handler = selector ? makeDelegateHandler(elem, handler, parsed) : makeNormalHandler(elem, handler);\n  elem.addEventListener(name, handler, capture);\n}\n\nexport default function events (opts) {\n  const events = opts.events || {};\n  return function (elem) {\n    for (let name in events) {\n      bindEvent(elem, name, events[name]);\n    }\n  };\n}\n","import { IncrementalDOM } from '../api/vdom';\nimport { shadowRoot } from '../api/symbols';\n\nconst { patch } = IncrementalDOM;\n\nexport default function (Ctor) {\n  const { render } = Ctor;\n\n  return function (elem) {\n    if (!render) {\n      return;\n    }\n\n    if (!elem[shadowRoot]) {\n      let sr;\n\n      if (elem.attachShadow) {\n        sr = elem.attachShadow({ mode: 'open' });\n      } else if (elem.createShadowRoot) {\n        sr = elem.createShadowRoot();\n      } else {\n        sr = elem;\n      }\n\n      elem[shadowRoot] = sr;\n    }\n\n    patch(elem[shadowRoot], render, elem);\n  };\n}\n","export default function (str) {\n  return str.split(/([A-Z])/).reduce(function (one, two, idx) {\n    var dash = !one || idx % 2 === 0 ? '' : '-';\n    return `${one}${dash}${two.toLowerCase()}`;\n  });\n}\n","const raf = window.requestAnimationFrame || setTimeout;\nexport default function (fn) {\n  var called = false;\n\n  return function (...args) {\n    if (!called) {\n      called = true;\n      raf(() => {\n        called = false;\n        fn.apply(this, args);\n      });\n    }\n  };\n}\n","const CustomEvent = (function (CustomEvent) {\n  if (CustomEvent) {\n    try {\n      new CustomEvent();\n    } catch (e) {\n      return undefined;\n    }\n  }\n  return CustomEvent;\n}(window.CustomEvent));\n\nfunction createCustomEvent (name, opts = {}) {\n  if (CustomEvent) {\n    return new CustomEvent(name, opts);\n  }\n  const e = document.createEvent('CustomEvent');\n  e.initCustomEvent(name, opts.bubbles, opts.cancelable, opts.detail);\n  return e;\n}\n\nexport default function (elem, name, opts = {}) {\n  /* jshint expr: true */\n  opts.bubbles === undefined && (opts.bubbles = true);\n  opts.cancelable === undefined && (opts.cancelable = true);\n  return elem.disabled ? true : elem.dispatchEvent(createCustomEvent(name, opts));\n}\n","import * as symbols from '../api/symbols';\nimport assign from 'object-assign';\nimport data from '../util/data';\nimport debounce from '../util/debounce';\nimport emit from '../api/emit';\nimport empty from '../util/empty';\n\n// Symbol() wasn't transpiling properly.\nconst $debounce = '____debouncedRender';\n\nfunction getDefaultValue (elem, name, opts) {\n  return typeof opts.default === 'function' ? opts.default(elem, { name }) : opts.default;\n}\n\nfunction getInitialValue (elem, name, opts) {\n  return typeof opts.initial === 'function' ? opts.initial(elem, { name }) : opts.initial;\n}\n\nfunction createNativePropertyDefinition (name, opts) {\n  const prop = {\n    configurable: true,\n    enumerable: true\n  };\n\n  prop.created = function (elem) {\n    const propData = data(elem, `api/property/${name}`);\n    const attributeName = opts.attribute;\n    let initialValue = elem[name];\n    let shouldSyncAttribute = false;\n\n    // Store property to attribute link information.\n    data(elem, 'attributeLinks')[attributeName] = name;\n    data(elem, 'propertyLinks')[name] = attributeName;\n\n    // Set up initial value if it wasn't specified.\n    if (empty(initialValue)) {\n      if (attributeName && elem.hasAttribute(attributeName)) {\n        initialValue = opts.deserialize(elem.getAttribute(attributeName));\n      } else if ('initial' in opts) {\n        initialValue = getInitialValue(elem, name, opts);\n        shouldSyncAttribute = true;\n      } else if ('default' in opts) {\n        initialValue = getDefaultValue(elem, name, opts);\n      }\n    }\n\n    if (shouldSyncAttribute) {\n      prop.set.call(elem, initialValue);\n    } else {\n      propData.internalValue = opts.coerce ? opts.coerce(initialValue) : initialValue;\n    }\n  };\n\n  prop.get = function () {\n    const propData = data(this, `api/property/${name}`);\n    const { internalValue } = propData;\n    if (typeof opts.get === 'function') {\n      return opts.get(this, { name, internalValue });\n    }\n    return internalValue;\n  };\n\n  prop.render = (function () {\n    const shouldUpdate = opts.render;\n    if (typeof shouldUpdate === 'undefined') {\n      return function (elem, data) {\n        return data.newValue !== data.oldValue;\n      };\n    }\n    if (typeof shouldUpdate === 'function') {\n      return shouldUpdate;\n    }\n    return function () {\n      return !!shouldUpdate;\n    };\n  }());\n\n  prop.set = function (newValue) {\n    const propData = data(this, `api/property/${name}`);\n    let { oldValue } = propData;\n    let shouldRemoveAttribute = false;\n\n    if (empty(oldValue)) {\n      oldValue = null;\n    }\n\n    if (empty(newValue)) {\n      newValue = getDefaultValue(this, name, opts);\n      shouldRemoveAttribute = true;\n    }\n\n    if (typeof opts.coerce === 'function') {\n      newValue = opts.coerce(newValue);\n    }\n\n    const propertyHasChanged = newValue !== oldValue;\n    if (propertyHasChanged && opts.event) {\n      const canceled = !emit(this, String(opts.event), {\n        bubbles: false,\n        detail: { name, oldValue, newValue }\n      });\n\n      if (canceled) {\n        return;\n      }\n    }\n\n    propData.internalValue = newValue;\n\n    const changeData = { name, newValue, oldValue };\n\n    if (typeof opts.set === 'function') {\n      opts.set(this, changeData);\n    }\n\n    // Re-render on property updates if the should-update check passes.\n    if (prop.render(this, changeData)) {\n      const deb = this[$debounce] || (this[$debounce] = debounce(this.constructor[symbols.renderer]));\n      deb(this);\n    }\n\n    propData.oldValue = newValue;\n\n    // Link up the attribute.\n    const attributeName = data(this, 'propertyLinks')[name];\n    if (attributeName && !propData.settingAttribute) {\n      const serializedValue = opts.serialize(newValue);\n      propData.syncingAttribute = true;\n      if (shouldRemoveAttribute || empty(serializedValue)) {\n        this.removeAttribute(attributeName);\n      } else {\n        this.setAttribute(attributeName, serializedValue);\n      }\n    }\n\n    // Allow the attribute to be linked again.\n    propData.settingAttribute = false;\n  };\n\n  return prop;\n}\n\nexport default function (opts) {\n  opts = opts || {};\n\n  if (typeof opts === 'function') {\n    opts = { coerce: opts };\n  }\n\n  return function (name) {\n    return createNativePropertyDefinition(name, assign({\n      default: null,\n      deserialize: value => value,\n      serialize: value => value\n    }, opts));\n  };\n}\n","import * as symbols from './symbols';\nimport { customElementsV1 } from '../util/support';\nimport attributeChanged from '../lifecycle/attribute-changed';\nimport Component from './component';\nimport createInitEvents from '../lifecycle/events';\nimport createRenderer from '../lifecycle/render';\nimport dashCase from '../util/dash-case';\nimport initProps from '../lifecycle/props-init';\n\n// Ensures that definitions passed as part of the constructor are functions\n// that return property definitions used on the element.\nfunction ensurePropertyFunctions (Ctor) {\n  let props = Ctor.props;\n  let names = Object.keys(props || {});\n  return names.reduce(function (descriptors, descriptorName) {\n    descriptors[descriptorName] = props[descriptorName];\n    if (typeof descriptors[descriptorName] !== 'function') {\n      descriptors[descriptorName] = initProps(descriptors[descriptorName]);\n    }\n    return descriptors;\n  }, {});\n}\n\n// Ensures the property definitions are transformed to objects that can be used\n// to create properties on the element.\nfunction ensurePropertyDefinitions (Ctor) {\n  const props = ensurePropertyFunctions(Ctor);\n  return Object.keys(props).reduce(function (descriptors, descriptorName) {\n    descriptors[descriptorName] = props[descriptorName](descriptorName);\n    return descriptors;\n  }, {});\n}\n\n// Makes a function / constructor for the custom element that automates the\n// boilerplate of ensuring the parent constructor is called first and ensures\n// that the element is returned at the end.\nfunction createConstructor (name, Ctor) {\n  if (typeof Ctor === 'object') {\n    Ctor = Component.create(Ctor);\n  }\n\n  // Map callbacks.\n  Ctor.prototype.attributeChangedCallback = attributeChanged(Ctor);\n  Ctor.prototype.connectedCallback = function () { Ctor.attached && Ctor.attached(this); };\n  Ctor.prototype.disconnectedCallback = function () { Ctor.detached && Ctor.detached(this); };\n\n  // Internal data.\n  Ctor[symbols.name] = name;\n\n  return Ctor;\n}\n\n// Ensures linked properties that have linked attributes are pre-formatted to\n// the attribute name in which they are linked.\nfunction formatLinkedAttributes (Ctor) {\n  const { observedAttributes, props } = Ctor;\n\n  if (!props) {\n    return;\n  }\n\n  Object.keys(props).forEach(function (name) {\n    const prop = props[name];\n    const attr = prop.attribute;\n    if (attr) {\n      // Ensure the property is updated.\n      const linkedAttr = prop.attribute = attr === true ? dashCase(name) : attr;\n\n      // Automatically observe the attribute since they're linked from the\n      // attributeChangedCallback.\n      if (observedAttributes.indexOf(linkedAttr) === -1) {\n        observedAttributes.push(linkedAttr);\n      }\n    }\n  });\n\n  // Merge observed attributes.\n  Object.defineProperty(Ctor, 'observedAttributes', {\n    get () {\n      return observedAttributes;\n    }\n  });\n}\n\nfunction createInitProps (Ctor) {\n  const props = ensurePropertyDefinitions(Ctor);\n\n  return function (elem) {\n    if (!props) {\n      return;\n    }\n\n    Object.keys(props).forEach(function (name) {\n      const prop = props[name];\n      prop.created(elem);\n\n      // https://bugs.webkit.org/show_bug.cgi?id=49739\n      //\n      // When Webkit fixes that bug so that native property accessors can be\n      // retrieved, we can move defining the property to the prototype and away\n      // from having to do if for every instance as all other browsers support\n      // this.\n      Object.defineProperty(elem, name, prop);\n    });\n  };\n}\n\nexport default function (name, Ctor) {\n  Ctor = createConstructor(name, Ctor);\n  formatLinkedAttributes(Ctor);\n  Ctor[symbols.events] = createInitEvents(Ctor);\n  Ctor[symbols.props] = createInitProps(Ctor);\n  Ctor[symbols.renderer] = createRenderer(Ctor);\n  if (customElementsV1) {\n    window.customElements.define(name, Ctor);\n    return window.customElements.get(name);\n  } else {\n    throw new Error('Skate requires Custom Elements V1 support. Please include a polyfill for this browser.');\n  }\n}\n","import define from './define';\n\nexport default function (opts) {\n  return function (name) {\n    return define(name, opts);\n  };\n}\n","import { renderer } from './symbols';\nimport assign from 'object-assign';\n\nfunction get (elem) {\n  const props = elem.constructor.props;\n  const state = {};\n  for (let key in props) {\n    const val = elem[key];\n    if (typeof val !== 'undefined') {\n      state[key] = val;\n    }\n  }\n  return state;\n}\n\nfunction set (elem, newState) {\n  assign(elem, newState);\n  if (elem.constructor.render) {\n    elem.constructor[renderer](elem);\n  }\n}\n\nexport default function (elem, newState) {\n  return typeof newState === 'undefined' ? get(elem) : set(elem, newState);\n}\n","import state from './state';\n\nfunction getValue (elem) {\n  const type = elem.type;\n  if (type === 'checkbox' || type === 'radio') {\n    return elem.checked ? elem.value || true : false;\n  }\n  return elem.value;\n}\n\nexport default function (elem, target) {\n  return function (e) {\n    const value = getValue(e.target);\n    const localTarget = target || e.target.name || 'value';\n\n    if (localTarget.indexOf('.') > -1) {\n      const parts = localTarget.split('.');\n      const firstPart = parts[0];\n      const propName = parts.pop();\n      const obj = parts.reduce(function (prev, curr) {\n        return prev && prev[curr];\n      }, elem);\n\n      obj[propName || e.target.name] = value;\n      state(elem, {\n        [firstPart]: elem[firstPart]\n      });\n    } else {\n      state(elem, {\n        [localTarget]: value\n      });\n    }\n  };\n}\n","import data from '../util/data';\n\nexport default function (elem, done) {\n  const info = data(elem);\n  if (elem.hasAttribute(elem.constructor.definedAttribute)) {\n    done(elem);\n  } else if (info.readyCallbacks) {\n    info.readyCallbacks.push(done);\n  } else {\n    info.readyCallbacks = [done];\n  }\n}\n","export default '0.15.3';\n"],"names":["create","symbols","applyProp","attributes","patchInner","elementOpen","elementClose","text","skip","elementOpenStart","attr","elementOpenEnd","IncrementalDOM.applyProp","IncrementalDOM.attr","IncrementalDOM.attributes","IncrementalDOM.elementClose","IncrementalDOM.elementOpen","IncrementalDOM.elementOpenEnd","IncrementalDOM.elementOpenStart","IncrementalDOM.skip","IncrementalDOM.symbols","IncrementalDOM.text","skateSymbols.name","data","events","props","renderer","symbols.renderer","symbols.props","symbols.events","matches","patch","IncrementalDOM.patch","name","symbols.name","createInitEvents"],"mappings":"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"}