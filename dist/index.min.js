!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.skatejs=e()}(this,function(){function t(t,e){return e={exports:{}},t(e,e.exports),e.exports}function e(t,e){return t!==document||t.contains?t.contains?t.contains(e):ft.call(t,e):document.head.contains(e)||document.body.contains(e)}function n(t){var e=t.attributes;return e&&!!e["data-skate-ignore"]}function r(t,e){if(t.nodeType===mt.ELEMENT_NODE&&!n(t)){var i=t.childNodes,o=i&&i[0];for(e(t);o;)r(o,e),o=o.nextSibling}}function i(t,e){if(t){t instanceof mt&&(t=[t]);for(var n=0;n<t.length;n++)r(t[n],e)}}function o(){for(var t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];n.forEach(function(t){var n=e(document,t);i(t,function(t){for(var e=yt.find(t),r=e.length,i=0;r>i;i++)e[i].prototype.createdCallback.call(t);for(var i=0;r>i;i++)n&&e[i].prototype.attachedCallback.call(t)})})}function a(t,e){var n=yt.get(t),r=n?n.type.create(n):document.createElement(t);return n&&n.isNative||o(r),st(r,e)}function u(t,e){return t.disabled?void(e.isPropagationStopped=!0):t.dispatchEvent(e)}function c(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(wt)return new wt(t,e);var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}function l(t){return function(){this.isPropagationStopped=!0,t.call(this)}}function s(t,e){var n=void 0,r=t;for(e.stopPropagation=l(e.stopPropagation),Object.defineProperty(e,"target",{get:function(){return t}});r&&!e.isPropagationStopped;)e.currentTarget=r,u(r,e)===!1&&(n=!1),r=r.parentNode;return n}function d(t,n,r){var i,o;return void 0===r.bubbles&&(r.bubbles=!0),void 0===r.cancelable&&(r.cancelable=!0),i=c(n,r),o=r.bubbles&&!Et&&!e(document,t),o?s(t,i):u(t,i)}function f(t,e){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r="string"==typeof e?e.split(" "):e;return r.reduce(function(e,r){return d(t,r,n)===!1&&e.push(r),e},[])}function p(t,e){for(var n=document.createElement("div"),r=0,i=Nt[t];i;)e="<"+i+">"+e+"</"+i+">",++r,i=Nt[i];n.innerHTML=e;for(var o=n,a=0;r>a;a++)o=o.firstElementChild;return o}function v(t){var e=t.match(/^<([^\s>]+)/);return e&&e[1]}function b(t){return p(v(t),t)}function h(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return e.reduce(function(t,e){return"string"==typeof e?e=h.apply(null,jt.call(b(e).childNodes)):e instanceof kt||Array.isArray(e)?e=h.apply(null,jt.call(e)):e instanceof Ot&&o(e),e&&t.appendChild(e),t},document.createDocumentFragment())}function g(t){return"undefined"==typeof t||null===t}function y(t){return function(){for(var e=arguments.length,n=Array(e),r=0;e>r;r++)n[r]=arguments[r];return n.unshift({},t),st.apply(null,n)}}function m(t){var e=arguments.length<=1||void 0===arguments[1]?"":arguments[1],n=t.__SKATE_DATA||(t.__SKATE_DATA={});return e&&(n[e]||(n[e]={}))||n}function w(t){for(var e=yt.find(t),n=e.length,r=0;n>r;r++)if(!m(t,"lifecycle/"+e[r].id).created)return!1;return!0}function E(t,e){function n(){o===i&&e(t)}for(var r=void 0===t.length?[t]:t,i=r.length,o=0,a=0;i>a;a++){var u=r[a];w(u)?++o:u.addEventListener("skate.ready",function(){++o,n()})}n()}function A(t){yt.find(t).forEach(function(e){return e.render&&e.render(t)})}function O(t){return function(){var e=m(this,"lifecycle/"+t.id);e.attached||(e.attached=!0,e.detached=!1,t.attached(this))}}function k(t){var e=t.attribute;return"function"!=typeof e?Lt:function(t,n,r){e(this,{name:t,newValue:null===r?void 0:r,oldValue:null===n?void 0:n})}}function j(t,e){if(Dt){var n=t.cloneNode();return document.createElement("div").appendChild(n),zt.call(n,e)}return zt.call(t,e)}function N(t,e,n){Object.defineProperty(t,e,{configurable:!0,get:function(){return n}})}function P(t){var e=t.split(" "),n=e.shift(),r=e.join(" ").trim();return{name:n,selector:r}}function M(t,e,n){return function(r){for(var i=r.target,o=n.selector;i&&i!==t.parentNode;){if(j(i,o))return N(r,"currentTarget",i),N(r,"delegateTarget",t),e(r);i=i.parentNode}}}function C(t,e){return function(n){N(n,"delegateTarget",t),e(n)}}function x(t,e,n){var r=P(e),i=r.name,o=r.selector,a=o&&("blur"===i||"focus"===i);n=o?M(t,n,r):C(t,n),t.addEventListener(i,n,a)}function T(t){var e=t.events;return function(t){Object.keys(e).forEach(function(n){x(t,n,e[n].bind(t))})}}function S(t){var e=t.removeAttribute,n=t.setAttribute;t.removeAttribute=function(n){var r=this.getAttribute(n);e.call(t,n),t.attributeChangedCallback(n,r,null)},t.setAttribute=function(e,r){var i=this.getAttribute(e);n.call(t,e,r),t.attributeChangedCallback(e,i,String(r))}}function V(t){return t.split(/([A-Z])/).reduce(function(t,e,n){var r=t&&n%2!==0?"-":"";return""+t+r+e.toLowerCase()})}function L(t,e){return m(t,"api/property/"+e)}function _(t,e){return L(t,L(t,e).linkedProperty)}function z(t,e){return e===!0?V(t):e}function D(t,e){var n={configurable:!0,enumerable:!0};return n.created=function(n,r){var i=L(n,t);i.linkedAttribute=z(t,e.attribute),i.opts=e,i.updatingProperty=!1,L(n,i.linkedAttribute).linkedProperty=t,"function"==typeof e["default"]?i.defaultValue=e["default"](n,{name:t}):g(e["default"])||(i.defaultValue=e["default"]),i.linkedAttribute&&(i.attributeMap||(i.attributeMap={},n.removeAttribute=function(t){var e=_(this,t);if(!e.linkedAttribute)return It.call(this,t);var r=e.attributeMap[t],i=e.opts.serialize(e.defaultValue);e.updatingAttribute=!0,g(i)?It.call(this,t):Bt.call(this,t,i),r&&(n[r]=void 0),e.updatingAttribute=!1},n.setAttribute=function(t,e){var r=_(this,t);if(!r.linkedAttribute)return Bt.call(this,t,e);var i=r.attributeMap[t];r.updatingAttribute=!0,Bt.call(this,t,e),i&&(n[i]=r.opts.deserialize(e)),r.updatingAttribute=!1}),i.attributeMap[i.linkedAttribute]=t),g(r)&&(r=i.linkedAttribute&&n.hasAttribute(i.linkedAttribute)?e.deserialize(n.getAttribute(i.linkedAttribute)):i.defaultValue);var o=i.internalValue=e.coerce?e.coerce(r):r;"function"==typeof e.created&&e.created(n,{name:t,internalValue:o})},n.get=function(){var n=L(this,t),r=n.internalValue;return e.get?e.get(this,{name:t,internalValue:r}):r},n.initial=function(n){return"function"==typeof e.initial?e.initial(n,{name:t}):n[t]},n.ready=function(e){var n=L(e,t).internalValue;e[t]=g(n)?this.initial(e):n},n.set=function(n){var r=L(this,t),i=r.oldValue;if(!r.updatingProperty){if(r.updatingProperty=!0,g(n)&&(n=r.defaultValue),"function"==typeof e.coerce&&(n=e.coerce(n)),r.internalValue=n,r.linkedAttribute&&!r.updatingAttribute){var o=e.serialize(n);g(o)?It.call(this,r.linkedAttribute):Bt.call(this,r.linkedAttribute,o)}"function"==typeof e.set&&e.set(this,{name:t,newValue:n,oldValue:i}),r.oldValue=n,r.updatingProperty=!1}},n}function H(t){return t=t||{},"function"==typeof t&&(t={coerce:t}),function(e){return D(e,st({deserialize:function(t){return t},serialize:function(t){return t}},t))}}function I(t,e){Object.keys(e).forEach(function(n){var r=e[n],i=r.initial(t);Object.defineProperty(t,n,r),r.created(t,i)})}function B(t,e){Object.keys(e).forEach(function(n){e[n].ready(t)})}function K(t){for(var e=[];t;)e.push(t),t=Object.getPrototypeOf(t);return e.reverse(),e}function q(t,e){Object.keys(e).forEach(function(n){var r=e[n],i=Object.getOwnPropertyDescriptor(t,n),o="arguments"!==n&&"caller"!==n&&"value"in r,a=!i||i.configurable;a?Object.defineProperty(t,n,r):o&&(t[n]=r.value)})}function F(t){return Object.getOwnPropertyNames(t).reduce(function(e,n){return e[n]=Object.getOwnPropertyDescriptor(t,n),e},{})}function J(t){var e=K(t.prototype);return function(t){e.forEach(function(e){e.isPrototypeOf(t)||q(t,F(e))})}}function R(t,e){t.removeAttribute(e.unresolvedAttribute),t.setAttribute(e.resolvedAttribute,"")}function Z(t){var e=t.properties,n=Object.keys(e||{});return n.reduce(function(e,n){return e[n]=t.properties[n],"function"!=typeof e[n]&&(e[n]=H(e[n])),e},{})}function G(t,e){return Object.keys(e||{}).reduce(function(t,n){return t[n]=e[n](n),t},{})}function Q(t){var e=T(t),n=J(t),r=Z(t);return function(){var i=m(this,"lifecycle/"+t.id),o=t.isNative,a=this.hasAttribute("resolved");if(!i.created){i.created=!0;var u=G(this,r);o||t.attribute&&S(this),o||t.prototype&&n(this),t.properties&&I(this,u),t.events&&e(this),t.created&&t.created(this),a||t.render&&t.render(this),t.properties&&B(this,u),t.ready&&t.ready(this),f(this,Kt,qt),a||R(this,t)}}}function U(t){return function(){var e=m(this,"lifecycle/"+t.id);e.detached||(e.detached=!0,e.attached=!1,t.detached(this))}}function W(t,e){var n=t.childNodes;if(n)for(var r=n.length,i=0;r>i;i++){var o=n[i];e(o,t),W(o,e)}}function X(){var t=Object.getOwnPropertyDescriptor(Yt,"innerHTML"),e=function(){return t.get.call(this)};e._hasBeenEnhanced=!0,Object.defineProperty(Yt,"innerHTML",{get:e,set:function(e){W(this,function(t,e){var n=document.createEvent("MutationEvent");n.initMutationEvent("DOMNodeRemoved",!0,!1,e,null,null,null,null),t.dispatchEvent(n)}),t.set.call(this,e)}})}function Y(t){for(var e=t;e instanceof ne;){if(n(e))return e;e=e.parentNode}}function $(t){i(t,function(t){for(var e=yt.find(t),n=e.length,r=0;n>r;r++)e[r].prototype.createdCallback.call(t);for(var r=0;n>r;r++)e[r].prototype.attachedCallback.call(t)})}function tt(t){i(t,function(t){for(var e=yt.find(t),n=e.length,r=0;n>r;r++)e[r].prototype.detachedCallback.call(t)})}function et(t){for(var e=t.length,n=0;e>n;n++){var r=t[n].addedNodes,i=t[n].removedNodes;r&&r.length&&!Y(r[0].parentNode)&&$(r),i&&i.length&&tt(i)}}function nt(){var t=window,e=t.MutationObserver;if(!e)throw new Error("Mutation Observers are not supported by this browser. Skate requires them in order to polyfill the behaviour of Custom Elements. If you want to support this browser you should include a Mutation Observer polyfill before Skate.");return new e(et)}function rt(){var t=nt();return t.observe(document,{childList:!0,subtree:!0}),t}function it(t){return K(t).reduce(function(t,e){var n=F(e);return Object.getOwnPropertyNames(n).reduce(function(t,e){return t[e]=n[e],t},t),t},{})}function ot(t){var e=!1;return function(){for(var n=this,r=arguments.length,i=Array(r),o=0;r>o;o++)i[o]=arguments[o];e||(e=!0,setTimeout(function(){e=!1,t.apply(n,i)},1))}}function at(t,e,n){Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n,writable:!1})}function ut(t,e){var n=a.bind(null,t);st(n,Qt),q(n,it(e)),at(n.prototype,"constructor",n),at(n,"id",t),at(n,"isNative",n.type===Zt&&document.registerElement);var r=Object.getOwnPropertyDescriptor(n,"name");return r&&r.configurable&&at(n,"name",t),n}function ct(t,e){var n=ut(t,e),r=(n["extends"]?document.createElement(n["extends"]).constructor:ie).prototype;r.isPrototypeOf(n.prototype)||(n.prototype=Object.create(r,F(n.prototype))),n.prototype.createdCallback=Q(n),n.prototype.attachedCallback=O(n),n.prototype.detachedCallback=U(n),n.prototype.attributeChangedCallback=k(n),n.isNative||(oe(),re.register());var i=n.type;return i.register&&i.register(n),yt.set(t,n)}var lt=t(function(t){"use strict";function e(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;t.exports=Object.assign||function(t,i){for(var o,a,u=e(t),c=1;c<arguments.length;c++){o=Object(arguments[c]);for(var l in o)n.call(o,l)&&(u[l]=o[l]);if(Object.getOwnPropertySymbols){a=Object.getOwnPropertySymbols(o);for(var s=0;s<a.length;s++)r.call(o,a[s])&&(u[a[s]]=o[a[s]])}}return u}}),st=lt&&"object"==typeof lt&&"default"in lt?lt["default"]:lt,dt=window.HTMLElement.prototype,ft=dt.contains,pt="__skate_0_14_0";window[pt]||(window[pt]={registerIfNotExists:function(t,e){return this[t]||(this[t]=e)}});var vt=window[pt],bt={},ht=[],gt=[],yt=vt.registerIfNotExists("registry",{get:function(t){return Object.prototype.hasOwnProperty.call(bt,t)&&bt[t]},set:function(t,e){if(this.get(t))throw new Error('A Skate component with the name of "'+t+'" already exists.');var n=e.type,r=gt.indexOf(n);return-1===r&&(r=gt.length,gt.push(n),ht[r]={}),bt[t]=ht[r][t]=e},find:function(t){for(var e=[],n=gt.length,r=0;n>r;r++)e=e.concat(gt[r].filter(t,ht[r])||[]);return e}}),mt=window.Node,wt=function(t){if(t)try{new t}catch(e){return void 0}return t}(window.CustomEvent),Et=function(){var t=document.createElement("div"),e=document.createElement("div"),n=!1;return t.appendChild(e),t.addEventListener("test",function(){return n=!0}),e.dispatchEvent(c("test",{bubbles:!0})),n}(),At=window,Ot=At.Node,kt=At.NodeList,jt=Array.prototype.slice,Nt={caption:"table",dd:"dl",dt:"dl",li:"ul",tbody:"table",td:"tr",thead:"table",tr:"tbody"},Pt={coerce:function(t){return!!t},"default":!1,deserialize:function(t){return!(null===t)},serialize:function(t){return t?"":void 0}},Mt=function(t){return g(t)?void 0:Number(t)},Ct={coerce:Mt,deserialize:Mt,serialize:Mt},xt=function(t){return g(t)?void 0:String(t)},Tt={coerce:xt,deserialize:xt,serialize:xt},St={"boolean":y(Pt),number:y(Ct),string:y(Tt)},Vt="0.15.2",Lt=function(){},_t=window.HTMLElement.prototype,zt=_t.matches||_t.msMatchesSelector||_t.webkitMatchesSelector||_t.mozMatchesSelector||_t.oMatchesSelector,Dt=!zt.call(document.createElement("div"),"div"),Ht=window.Element.prototype,It=Ht.removeAttribute,Bt=Ht.setAttribute,Kt="skate.ready",qt={bubbles:!1,cancelable:!1},Ft=document.createElement.bind(document),Jt=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"],Rt=["contain at least one dash","not start with a dash","not be one of: "+Jt.join(", ")],Zt={create:function(t){var e=t["extends"]?Ft(t["extends"],t.id):Ft(t.id);return!t.isNative&&t["extends"]&&e.setAttribute("is",t.id),e},filter:function(t,e){var n=t.attributes,r=n.is,i=r&&(r.value||r.nodeValue),o=(t.tagName||t.localName).toLowerCase(),a=e[i||o];if(a){var u=a["extends"];if(i){if(o===u)return[a]}else if(!u)return[a]}},register:function(t){var e=t.id;if(e.indexOf("-")<1||Jt.indexOf(e)>-1)throw new Error(e+" is not a valid custom element name. A custom element name must: "+Rt.map(function(t){return"\n- "+t}).join(""));if(t.isNative){var n={prototype:t.prototype};t["extends"]&&(n["extends"]=t["extends"]),document.registerElement(e,n)}}},Gt=function(){},Qt={attached:Gt,attribute:Gt,created:Gt,render:Gt,detached:Gt,events:{},"extends":"",properties:{},prototype:{},resolvedAttribute:"resolved",ready:Gt,type:Zt,unresolvedAttribute:"unresolved"},Ut=/MSIE/.test(navigator.userAgent),Wt=/Trident/.test(navigator.userAgent),Xt=Ut||Wt,Yt=window.HTMLElement.prototype;if(Xt){var $t=Object.getOwnPropertyDescriptor(Yt,"innerHTML"),te=!!$t&&$t.get._hasBeenEnhanced;te||(Wt&&(window.MutationObserver=window.JsMutationObserver||window.MutationObserver),X())}var ee=window,ne=ee.Element,re=vt.registerIfNotExists("observer",{observer:void 0,register:function(){return this.observer||(this.observer=rt()),this},unregister:function(){return this.observer&&(this.observer.disconnect(),this.observer=void 0),this}}),ie=window.HTMLElement,oe=ot(function(){i(document.documentElement.childNodes,function(t){for(var e=yt.find(t),n=e.length,r=0;n>r;r++)e[r].prototype.createdCallback.call(t);for(var r=0;n>r;r++)e[r].prototype.attachedCallback.call(t)})});ct.create=a,ct.emit=f,ct.fragment=h,ct.init=o,ct.properties=St,ct.ready=E,ct.render=A,ct.version=Vt;var ae=window.skate;return ct.noConflict=function(){return window.skate=ae,this},window.skate=ct,ct});
//# sourceMappingURL=index.min.js.map
